import{u as e,f as s,h as a,X as t,aJ as r,aK as l,aL as n,aM as o}from"./vendor-BfqwDkUj.js";import"./docx-vendor-DMyLLYJU.js";const c=3e3,i=[{name:"Lofi Hip Hop",url:"https://stream.zeno.fm/f3wvbbqmdg8uv",color:"from-amber-400/20 to-orange-400/20"},{name:"Chillhop Radio",url:"https://stream.zeno.fm/0r0xa792kwzuv",color:"from-blue-400/20 to-cyan-400/20"},{name:"Jazzy Beats",url:"https://stream.zeno.fm/f6vhq8qqtg8uv",color:"from-purple-400/20 to-pink-400/20"}];function d(){const d=e(),[u,x]=s.useState("focus"),[m,h]=s.useState(c),[g,b]=s.useState(!1),[p,f]=s.useState(0),v=s.useRef(null),j=s.useRef(null),[y,w]=s.useState(0),[N,k]=s.useState(!1),[C,S]=s.useState(50),P=s.useRef(null),B=e=>{switch(e){case"focus":return c;case"shortBreak":return 300;case"longBreak":return 900}};s.useEffect(()=>(g?v.current=setInterval(()=>{h(e=>e>1?e-1:(E(),0))},1e3):v.current&&(clearInterval(v.current),v.current=null),()=>{v.current&&(clearInterval(v.current),v.current=null)}),[g]);const E=()=>{if(b(!1),j.current&&(j.current.currentTime=0,j.current.play()),"focus"===u){const e=p+1;f(e),e%4==0?(x("longBreak"),h(900)):(x("shortBreak"),h(300))}else x("focus"),h(c)},z=e=>{x(e),h(B(e)),b(!1)},L=()=>{P.current&&(N?P.current.pause():P.current.play(),k(e=>!e))},R=()=>{S(C>0?0:50)};s.useEffect(()=>{P.current&&(P.current.volume=C/100)},[C]),s.useEffect(()=>{const e=e=>{"Escape"===e.key&&d(-1)," "===e.key&&(e.preventDefault(),b(e=>!e)),"m"===e.key.toLowerCase()&&R(),"p"===e.key.toLowerCase()&&L()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[C,N]);const I=Math.floor(m/60).toString().padStart(2,"0"),M=(m%60).toString().padStart(2,"0"),T=B(u),q=(T-m)/T*100,D=2*Math.PI*90,F=D-q/100*D,A={focus:{bg:"#6366f1",light:"#e0e7ff"},shortBreak:{bg:"#10b981",light:"#d1fae5"},longBreak:{bg:"#8b5cf6",light:"#ede9fe"}};return a.jsxs("main",{className:"relative min-h-screen overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-blue-950 to-slate-900"}),a.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"\n            linear-gradient(rgba(99, 102, 241, 0.3) 1px, transparent 1px),\n            linear-gradient(90deg, rgba(99, 102, 241, 0.3) 1px, transparent 1px)\n          ",backgroundSize:"50px 50px"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-transparent to-black/60"}),a.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[a.jsxs("header",{className:"w-full p-3 sm:p-6 flex justify-between items-center",children:[a.jsx("div",{children:a.jsx("h1",{className:"text-xl sm:text-3xl font-bold text-white drop-shadow-lg",children:"Focus Zone"})}),a.jsxs("button",{onClick:()=>d(-1),className:"flex items-center gap-2 px-3 py-2 sm:px-4 sm:py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all border border-white/20 hover:scale-105","aria-label":"Sair do Focus Zone",children:[a.jsx(t,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"text-sm sm:text-base hidden sm:inline",children:"Sair"})]})]}),a.jsx("section",{className:"flex-1 flex items-center justify-center px-3 sm:px-6 pb-6",children:a.jsx("div",{className:"w-full max-w-lg",children:a.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl p-6 sm:p-8 space-y-6 border border-white/20",children:[a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsx("button",{onClick:()=>z("focus"),className:"px-4 py-2 rounded-xl font-semibold text-sm transition-all "+("focus"===u?"bg-blue-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Foco"}),a.jsx("button",{onClick:()=>z("shortBreak"),className:"px-4 py-2 rounded-xl font-semibold text-sm transition-all "+("shortBreak"===u?"bg-green-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Pausa 5min"}),a.jsx("button",{onClick:()=>z("longBreak"),className:"px-4 py-2 rounded-xl font-semibold text-sm transition-all "+("longBreak"===u?"bg-green-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Pausa 15min"})]}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-gray-600 font-medium text-sm",children:{focus:"Foco Profundo",shortBreak:"Pausa Curta",longBreak:"Pausa Longa"}[u]})}),a.jsx("div",{className:"flex flex-col items-center",children:a.jsxs("div",{className:"relative",children:[a.jsxs("svg",{width:200,height:200,viewBox:"0 0 200 200",className:"transform -rotate-90",children:[a.jsx("circle",{cx:100,cy:100,r:90,stroke:A[u].light,strokeWidth:8,fill:"transparent"}),a.jsx("circle",{cx:100,cy:100,r:90,stroke:A[u].bg,strokeWidth:8,fill:"transparent",strokeDasharray:D,strokeDashoffset:F,strokeLinecap:"round",className:"transition-all duration-1000 ease-in-out"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("p",{className:"text-5xl sm:text-6xl font-bold tabular-nums",style:{color:A[u].bg},children:[I,":",M]})})]})}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Ciclos completados: ",a.jsx("span",{className:"font-bold text-blue-600",children:p})]}),a.jsx("div",{className:"flex justify-center gap-1 mt-2",children:[...Array(4)].map((e,s)=>a.jsx("div",{className:"w-2 h-2 rounded-full transition-all "+(s<p%4?"bg-blue-600 scale-125":"bg-gray-300")},s))})]}),a.jsxs("div",{className:"flex gap-2 sm:gap-3 justify-center",children:[a.jsx("button",{className:(g?"bg-blue-600 hover:bg-blue-700":"bg-green-600 hover:bg-green-700")+" text-white font-semibold rounded-xl px-6 py-3 sm:px-8 sm:py-3 transition-all shadow-lg hover:scale-105 flex-1 max-w-[160px]",onClick:()=>b(!g),children:g?"Pausar":"Iniciar"}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-blue-700 font-semibold rounded-xl px-5 py-3 sm:px-6 sm:py-3 transition-all shadow-lg hover:scale-105",onClick:()=>{b(!1),h(B(u)),j.current&&(j.current.pause(),j.current.currentTime=0)},title:"Resetar timer",children:"Reset"})]}),a.jsxs("div",{className:`bg-gradient-to-br ${i[y].color} rounded-2xl shadow-inner p-5 sm:p-6 border border-blue-200/30 backdrop-blur-sm`,children:[a.jsxs("div",{className:"flex flex-col gap-3 items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full "+(N?"bg-red-500 animate-pulse":"bg-gray-400")}),a.jsx("span",{className:"font-semibold text-blue-900 text-sm sm:text-base",children:i[y].name})]}),a.jsxs("div",{className:"flex gap-2 sm:gap-3 w-full items-center",children:[a.jsxs("button",{onClick:L,className:"flex-1 px-4 py-2.5 sm:px-6 sm:py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg transition-all hover:scale-105 flex items-center justify-center gap-2","aria-label":N?"Pausar Rádio":"Tocar Rádio",children:[N?a.jsx(r,{className:"w-4 h-4"}):a.jsx(l,{className:"w-4 h-4"}),a.jsx("span",{children:N?"Pausar":"Play"})]}),a.jsx("button",{onClick:()=>{w(e=>(e+1)%i.length),k(!1),P.current&&(P.current.pause(),P.current.currentTime=0)},className:"px-4 py-2.5 sm:px-5 sm:py-3 bg-white hover:bg-gray-50 text-blue-700 font-semibold border-2 border-blue-300 rounded-xl shadow-lg transition-all hover:scale-105","aria-label":"Próxima Estação",children:"Trocar"})]}),a.jsxs("div",{className:"flex items-center gap-3 w-full",children:[a.jsx("button",{onClick:R,className:"p-2 hover:bg-white/20 rounded-lg transition-all","aria-label":0===C?"Ativar som":"Desativar som",children:0===C?a.jsx(n,{className:"w-5 h-5 text-blue-900"}):a.jsx(o,{className:"w-5 h-5 text-blue-900"})}),a.jsx("input",{type:"range",min:"0",max:"100",value:C,onChange:e=>S(Number(e.target.value)),className:"flex-1 h-2 bg-indigo-200 rounded-lg appearance-none cursor-pointer accent-indigo-600","aria-label":"Controle de volume"}),a.jsxs("span",{className:"text-blue-900 font-semibold text-sm min-w-[3ch]",children:[C,"%"]})]})]}),a.jsx("audio",{ref:P,src:i[y].url,"aria-label":`Stream ${i[y].name}`,className:"sr-only",preload:"none",onEnded:()=>k(!1)})]}),a.jsx("div",{className:"text-center pt-2 border-t border-gray-200",children:a.jsx("p",{className:"text-xs text-gray-500",children:"Espaço: Play/Pause Timer • P: Play/Pause Música • M: Mute • ESC: Sair"})}),a.jsx("audio",{ref:j,src:"https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg",preload:"auto",className:"sr-only"})]})})})]})]})}export{d as default};
