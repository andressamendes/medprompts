import{h as e,r as t,j as a,aA as s,aB as r,aC as n,aD as o,aE as l,X as i,aF as d,aG as c,aH as m,aI as x,o as g,aJ as u,a0 as h,aK as p,n as f,aL as b,aM as y}from"./vendor-CRV-0dRL.js";import{t as j,S as k}from"./index-r_WKslfL.js";const N={focusDuration:25,shortBreak:5,longBreak:15,cyclesBeforeLongBreak:4},v=[{name:"ClÃ¡ssico",emoji:"ðŸ…",settings:{focusDuration:25,shortBreak:5,longBreak:15,cyclesBeforeLongBreak:4}},{name:"Estudo Intenso",emoji:"ðŸ”¥",settings:{focusDuration:50,shortBreak:10,longBreak:30,cyclesBeforeLongBreak:3}},{name:"Sprints Curtos",emoji:"âš¡",settings:{focusDuration:15,shortBreak:3,longBreak:10,cyclesBeforeLongBreak:4}}],w="focuszone_tasks",S="focuszone_settings",C="focuszone_daily_goal",B="focuszone_auto_transition",D="focuszone_daily_stats",_="focuszone_streak",L="focuszone_history",P="focuszone_achievements",I="focuszone_theme",M=[{id:"indigo",name:"PadrÃ£o",emoji:"ðŸ’œ",focus:"#6366f1",focusLight:"#e0e7ff",break:"#10b981",breakLight:"#d1fae5",long:"#8b5cf6",longLight:"#ede9fe"},{id:"ocean",name:"Oceano",emoji:"ðŸŒŠ",focus:"#0ea5e9",focusLight:"#e0f2fe",break:"#14b8a6",breakLight:"#ccfbf1",long:"#6366f1",longLight:"#e0e7ff"},{id:"forest",name:"Floresta",emoji:"ðŸŒ²",focus:"#16a34a",focusLight:"#dcfce7",break:"#84cc16",breakLight:"#ecfccb",long:"#059669",longLight:"#d1fae5"},{id:"sunset",name:"PÃ´r do Sol",emoji:"ðŸŒ…",focus:"#f97316",focusLight:"#fff7ed",break:"#eab308",breakLight:"#fefce8",long:"#ef4444",longLight:"#fef2f2"},{id:"rose",name:"Rosa",emoji:"ðŸŒ¸",focus:"#ec4899",focusLight:"#fce7f3",break:"#a855f7",breakLight:"#f3e8ff",long:"#f43f5e",longLight:"#fff1f2"}],E=()=>(new Date).toISOString().split("T")[0],F=[{id:"first_pomo",name:"Primeiro Passo",desc:"Complete seu primeiro pomodoro",emoji:"ðŸŒ±"},{id:"pomo_10",name:"Focado",desc:"Complete 10 pomodoros no total",emoji:"ðŸŽ¯"},{id:"pomo_50",name:"Maratonista",desc:"Complete 50 pomodoros no total",emoji:"ðŸƒ"},{id:"pomo_100",name:"CenturiÃ£o",desc:"Complete 100 pomodoros no total",emoji:"ðŸ’¯"},{id:"streak_3",name:"Consistente",desc:"Streak de 3 dias",emoji:"ðŸ”¥"},{id:"streak_7",name:"ImparÃ¡vel",desc:"Streak de 7 dias",emoji:"âš¡"},{id:"daily_5",name:"Dia Produtivo",desc:"5 pomodoros em um dia",emoji:"â­"},{id:"daily_8",name:"Super Produtivo",desc:"8 pomodoros em um dia",emoji:"ðŸŒŸ"},{id:"tasks_5",name:"Realizador",desc:"5 tarefas em um dia",emoji:"âœ…"},{id:"focus_120",name:"Mente Focada",desc:"120 min de foco em um dia",emoji:"ðŸ§ "}],$={none:{border:"",dot:"",label:"Sem prioridade"},low:{border:"border-l-blue-400",dot:"bg-blue-400",label:"Baixa"},medium:{border:"border-l-yellow-400",dot:"bg-yellow-400",label:"MÃ©dia"},high:{border:"border-l-red-500",dot:"bg-red-500",label:"Alta"}};function T(){const T=e(),[A,z]=t.useState(()=>{try{const e=localStorage.getItem(S);if(e){const t=JSON.parse(e);return{focusDuration:t.focusDuration??N.focusDuration,shortBreak:t.shortBreak??N.shortBreak,longBreak:t.longBreak??N.longBreak,cyclesBeforeLongBreak:t.cyclesBeforeLongBreak??N.cyclesBeforeLongBreak}}}catch{}return N}),[O,R]=t.useState(!1),[J,q]=t.useState(A),[Z,H]=t.useState("focus"),[K,G]=t.useState(60*A.focusDuration),[V,W]=t.useState(!1),[U,Q]=t.useState(0),X=t.useRef(null),[Y,ee]=t.useState(()=>{try{const e=localStorage.getItem(w);if(e){const t=JSON.parse(e);if(Array.isArray(t))return t.map(e=>{const t={id:e.id,text:e.text,priority:e.priority??"none",createdAt:e.createdAt,completedAt:e.completedAt,focusTimeSpent:e.focusTimeSpent??0};return"completed"in e&&!("status"in e)?{...t,status:e.completed?"completed":"pending"}:{...t,status:e.status??"pending",priority:e.priority??"none"}})}}catch{}return[]}),[te,ae]=t.useState(0),[se,re]=t.useState(""),[ne,oe]=t.useState(null),[le,ie]=t.useState(""),[de,ce]=t.useState(null),me=t.useRef(null),xe=t.useRef(Date.now()),[ge,ue]=t.useState(()=>{try{const e=localStorage.getItem(C);return e&&parseInt(e)||8}catch{return 8}}),[he,pe]=t.useState(()=>{try{return"true"===localStorage.getItem(B)}catch{return!1}}),[fe,be]=t.useState(()=>{try{const e=localStorage.getItem(D);if(e){const t=JSON.parse(e);if(t.date===E())return t}}catch{}return{date:E(),pomodorosCompleted:0,focusMinutes:0,tasksCompleted:0}}),[ye,je]=t.useState(()=>{try{const e=localStorage.getItem(_);if(e){const t=JSON.parse(e),a=new Date;a.setDate(a.getDate()-1);const s=a.toISOString().split("T")[0],r=E();return t.lastActiveDate===r||t.lastActiveDate===s?t:{currentStreak:0,lastActiveDate:t.lastActiveDate,longestStreak:t.longestStreak||0}}}catch{}return{currentStreak:0,lastActiveDate:"",longestStreak:0}}),[ke,Ne]=t.useState(null),[ve,we]=t.useState(!1),[Se,Ce]=t.useState(()=>{try{const e=localStorage.getItem(L);if(e)return JSON.parse(e)}catch{}return{}}),[Be,De]=t.useState(()=>{try{const e=localStorage.getItem(P);if(e)return JSON.parse(e)}catch{}return[]}),[_e,Le]=t.useState(!1),[Pe,Ie]=t.useState(()=>{try{return localStorage.getItem(I)||"indigo"}catch{return"indigo"}}),[Me,Ee]=t.useState(!1),Fe=t.useRef(null);t.useEffect(()=>(Fe.current&&clearTimeout(Fe.current),Fe.current=setTimeout(()=>{try{localStorage.setItem(w,JSON.stringify(Y))}catch{}},500),()=>{Fe.current&&clearTimeout(Fe.current)}),[Y]);const $e=t.useCallback(e=>{try{localStorage.setItem(S,JSON.stringify(e))}catch{}},[]);t.useEffect(()=>{try{localStorage.setItem(D,JSON.stringify(fe))}catch{}},[fe]),t.useEffect(()=>{try{localStorage.setItem(_,JSON.stringify(ye))}catch{}},[ye]),t.useEffect(()=>{try{localStorage.setItem(C,String(ge))}catch{}},[ge]),t.useEffect(()=>{try{localStorage.setItem(B,String(he))}catch{}},[he]),t.useEffect(()=>{try{localStorage.setItem(I,Pe)}catch{}},[Pe]),t.useEffect(()=>{const e=()=>Ee(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[]);const Te=t.useCallback(()=>{document.fullscreenElement?document.exitFullscreen().catch(()=>{}):document.documentElement.requestFullscreen().catch(()=>{})},[]);t.useEffect(()=>{Ce(e=>{const t={...e,[fe.date]:fe},a=new Date;a.setDate(a.getDate()-30);const s=a.toISOString().split("T")[0],r={};for(const[n,o]of Object.entries(t))n>=s&&(r[n]=o);try{localStorage.setItem(L,JSON.stringify(r))}catch{}return r})},[fe]),t.useEffect(()=>{const e=Object.values(Se).reduce((e,t)=>e+t.pomodorosCompleted,0),t=[],a=[["first_pomo",e>=1],["pomo_10",e>=10],["pomo_50",e>=50],["pomo_100",e>=100],["streak_3",ye.longestStreak>=3],["streak_7",ye.longestStreak>=7],["daily_5",fe.pomodorosCompleted>=5],["daily_8",fe.pomodorosCompleted>=8],["tasks_5",fe.tasksCompleted>=5],["focus_120",fe.focusMinutes>=120]];for(const[s,r]of a)r&&!Be.includes(s)&&t.push(s);if(t.length>0){De(e=>{const a=[...e,...t];try{localStorage.setItem(P,JSON.stringify(a))}catch{}return a});for(const e of t){const t=F.find(t=>t.id===e);t&&j({title:`${t.emoji} ${t.name}`,description:t.desc})}}},[fe,ye,Se,Be]);const Ae=t.useCallback(e=>{e>=ge&&je(e=>{const t=E();if(e.lastActiveDate===t)return e;const a=new Date;a.setDate(a.getDate()-1);const s=a.toISOString().split("T")[0],r=e.lastActiveDate===s?e.currentStreak+1:1;return{currentStreak:r,lastActiveDate:t,longestStreak:Math.max(e.longestStreak,r)}})},[ge]),ze=()=>{R(!1)},Oe=(e,t)=>{switch(e){case"focus":return 60*t.focusDuration;case"shortBreak":return 60*t.shortBreak;case"longBreak":return 60*t.longBreak}},Re=e=>Oe(e,A),Je=t.useCallback((e,t)=>{"Notification"in window&&"granted"===Notification.permission&&new Notification(e,{body:t,icon:"/medprompts/favicon.svg",tag:"focus-zone-timer"})},[]),qe=t.useCallback(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},[]),Ze=t.useCallback(()=>{if(W(!1),"focus"===Z?Je("Pomodoro concluÃ­do!","Hora de fazer uma pausa. VocÃª merece!"):Je("Pausa encerrada!","Hora de voltar ao foco. Vamos lÃ¡!"),"focus"===Z){const e=U+1;Q(e),be(e=>{const t={...e,date:E(),pomodorosCompleted:e.pomodorosCompleted+1,focusMinutes:e.focusMinutes+A.focusDuration};return Ae(t.pomodorosCompleted),t}),e%A.cyclesBeforeLongBreak===0?(H("longBreak"),G(60*A.longBreak)):(H("shortBreak"),G(60*A.shortBreak))}else H("focus"),G(60*A.focusDuration);he&&Ne(5)},[Z,U,A,Je,he,Ae]);t.useEffect(()=>(V?X.current=setInterval(()=>{G(e=>e>1?e-1:(Ze(),0)),"focus"===Z&&(ae(e=>e+1),ee(e=>e.map(e=>"in_progress"===e.status?{...e,focusTimeSpent:e.focusTimeSpent+1}:e)))},1e3):X.current&&(clearInterval(X.current),X.current=null),()=>{X.current&&(clearInterval(X.current),X.current=null)}),[V,Ze,Z]),t.useEffect(()=>{if(null===ke)return;if(ke<=0)return Ne(null),void W(!0);const e=setTimeout(()=>{Ne(e=>null!==e?e-1:null)},1e3);return()=>clearTimeout(e)},[ke]);const He=e=>{H(e),G(Re(e)),W(!1),Ne(null)};t.useEffect(()=>{const e=X.current;return()=>{e&&clearInterval(e)}},[]);const Ke=()=>{var e;const t=se.trim();if(!t)return;const a={id:`task_${Date.now()}_${Math.random().toString(36).slice(2,9)}`,text:t,status:"pending",priority:"none",createdAt:Date.now(),focusTimeSpent:0};ee(e=>[a,...e]),re(""),null==(e=me.current)||e.focus()},Ge=e=>{oe(e.id),ie(e.text)},Ve=()=>{if(!ne)return;const e=le.trim();e?(ee(t=>t.map(t=>t.id===ne?{...t,text:e}:t)),We()):We()},We=()=>{oe(null),ie("")},Ue=Y.filter(e=>"completed"===e.status).length,Qe=Y.filter(e=>"in_progress"===e.status).length,Xe=Y.length,Ye=Xe>0?Math.round(Ue/Xe*100):0,et=Y.find(e=>"in_progress"===e.status),tt=Math.floor((U*A.focusDuration*60+te)/60);t.useEffect(()=>{const e=e=>{var t,a,s;if(ne||"INPUT"===(null==(t=document.activeElement)?void 0:t.tagName))return void("Escape"===e.key&&(We(),null==(a=document.activeElement)||a.blur()));"Escape"===e.key&&(_e?Le(!1):ve?we(!1):O?ze():T(-1));const r=O||ve||_e;" "!==e.key||r||(e.preventDefault(),Ne(null),W(e=>!e)),"n"!==e.key.toLowerCase()||r||(e.preventDefault(),null==(s=me.current)||s.focus()),"f"!==e.key.toLowerCase()||r||(e.preventDefault(),Te())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[ne,T,ve,O,_e]),t.useEffect(()=>{const e=Math.floor(K/60).toString().padStart(2,"0"),t=(K%60).toString().padStart(2,"0"),a="focus"===Z?"Foco":"shortBreak"===Z?"Pausa":"Pausa Longa";return document.title=V?`${e}:${t} - ${a} | Focus Zone`:"Focus Zone - Pomodoro | MedPrompts",()=>{document.title="MedPrompts"}},[K,Z,V]);const at=Math.floor(K/60).toString().padStart(2,"0"),st=(K%60).toString().padStart(2,"0"),rt=Re(Z),nt=(rt-K)/rt*100,ot=2*Math.PI*90,lt=ot-nt/100*ot,it=M.find(e=>e.id===Pe)||M[0],dt={focus:{bg:it.focus,light:it.focusLight},shortBreak:{bg:it.break,light:it.breakLight},longBreak:{bg:it.long,light:it.longLight}},ct=(()=>{const e=[];for(let t=6;t>=0;t--){const a=new Date;a.setDate(a.getDate()-t);const s=a.toISOString().split("T")[0],r=a.toLocaleDateString("pt-BR",{weekday:"short"}).slice(0,3);e.push({date:s,dayName:r,stats:Se[s]||{pomodorosCompleted:0,focusMinutes:0,tasksCompleted:0}})}return e})(),mt=ct.reduce((e,t)=>({pomodoros:e.pomodoros+t.stats.pomodorosCompleted,minutes:e.minutes+t.stats.focusMinutes,tasks:e.tasks+t.stats.tasksCompleted}),{pomodoros:0,minutes:0,tasks:0}),xt=Object.values(Se).reduce((e,t)=>e+t.pomodorosCompleted,0);return a.jsxs(a.Fragment,{children:[a.jsx(k,{title:"Focus Zone - Pomodoro",description:"Timer Pomodoro para estudos focados. Gerencie tarefas e mantenha o foco durante suas sessoes de estudo.",canonical:"https://andressamendes.github.io/medprompts/focus-zone",breadcrumbs:[{name:"Home",url:"https://andressamendes.github.io/medprompts/"},{name:"Focus Zone",url:"https://andressamendes.github.io/medprompts/focus-zone"}]}),a.jsxs("main",{id:"main-content",className:"relative min-h-screen overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-blue-950 to-slate-900"}),a.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"\n            linear-gradient(rgba(99, 102, 241, 0.3) 1px, transparent 1px),\n            linear-gradient(90deg, rgba(99, 102, 241, 0.3) 1px, transparent 1px)\n          ",backgroundSize:"50px 50px"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-transparent to-black/60"}),a.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[a.jsxs("header",{id:"main-navigation",className:"w-full p-2 sm:p-6 flex justify-between items-center gap-2",role:"banner",children:[a.jsx("h1",{className:"text-lg sm:text-3xl font-bold text-white drop-shadow-lg flex-shrink-0",children:"Focus Zone"}),a.jsxs("div",{className:"flex sm:hidden items-center gap-1.5 bg-white/10 backdrop-blur-sm rounded-lg px-2 py-1 border border-white/20 text-[10px] text-white font-medium flex-shrink-0",children:[a.jsxs("span",{children:[fe.pomodorosCompleted,"/",ge]}),a.jsx("span",{className:"text-white/40",children:"|"}),a.jsxs("span",{children:[tt,"m"]}),ye.currentStreak>0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-white/40",children:"|"}),a.jsxs("span",{className:"text-orange-400",children:[ye.currentStreak,a.jsx(s,{className:"w-3 h-3 inline"})]})]})]}),a.jsx("div",{className:"hidden sm:flex items-center gap-3",children:a.jsxs("div",{className:"flex items-center gap-4 bg-white/10 backdrop-blur-sm rounded-xl px-4 py-2 border border-white/20",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-lg font-bold text-white",children:[fe.pomodorosCompleted,a.jsxs("span",{className:"text-sm text-gray-400",children:["/",ge]})]}),a.jsx("p",{className:"text-[10px] text-gray-300 uppercase tracking-wide",children:"Meta diÃ¡ria"})]}),a.jsx("div",{className:"w-px h-8 bg-white/20"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-bold text-white",children:tt}),a.jsx("p",{className:"text-[10px] text-gray-300 uppercase tracking-wide",children:"min focados"})]}),a.jsx("div",{className:"w-px h-8 bg-white/20"}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[a.jsx("span",{className:"text-lg font-bold text-green-400",children:Ue}),Qe>0&&a.jsxs("span",{className:"text-sm font-bold text-indigo-400",children:["+",Qe]}),a.jsxs("span",{className:"text-gray-400 text-sm",children:["/",Xe]})]}),a.jsx("p",{className:"text-[10px] text-gray-300 uppercase tracking-wide",children:"tarefas"})]}),ye.currentStreak>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-8 bg-white/20"}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-lg font-bold text-orange-400",children:[ye.currentStreak,a.jsx(s,{className:"w-4 h-4 inline text-orange-400"})]}),a.jsx("p",{className:"text-[10px] text-gray-300 uppercase tracking-wide",children:"Streak"})]})]})]})}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[a.jsx("button",{onClick:Te,className:"hidden sm:flex p-2 sm:px-3 sm:py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all border border-white/20 hover:scale-105","aria-label":Me?"Sair do fullscreen":"Entrar em fullscreen",title:Me?"Sair (F)":"Fullscreen (F)",children:Me?a.jsx(r,{className:"w-5 h-5"}):a.jsx(n,{className:"w-5 h-5"})}),a.jsxs("button",{onClick:()=>Le(!0),className:"flex items-center gap-2 p-2 sm:px-4 sm:py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all border border-white/20 hover:scale-105","aria-label":"Dashboard e conquistas",children:[a.jsx(o,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"text-sm hidden sm:inline",children:"Stats"})]}),a.jsxs("button",{onClick:()=>{q(A),R(!0)},className:"flex items-center gap-2 p-2 sm:px-4 sm:py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all border border-white/20 hover:scale-105","aria-label":"ConfiguraÃ§Ãµes do Pomodoro",children:[a.jsx(l,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"text-sm hidden sm:inline",children:"Config"})]}),a.jsxs("button",{onClick:()=>{U>0||te>0?we(!0):T(-1)},className:"flex items-center gap-2 p-2 sm:px-4 sm:py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all border border-white/20 hover:scale-105","aria-label":"Sair do Focus Zone",children:[a.jsx(i,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"text-sm hidden sm:inline",children:"Sair"})]})]})]}),a.jsx("section",{className:"flex-1 flex items-start justify-center px-2 sm:px-6 pb-4 sm:pb-6 pt-1 sm:pt-2","aria-label":"Timer Pomodoro e lista de tarefas",children:a.jsx("div",{className:"w-full max-w-6xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 lg:gap-6",children:[a.jsx("div",{className:"w-full lg:w-[60%]",children:a.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 space-y-4 sm:space-y-5 border border-white/20",children:[a.jsxs("div",{className:"flex gap-1.5 sm:gap-2 justify-center",role:"group","aria-label":"Selecionar modo do timer",children:[a.jsxs("button",{onClick:()=>He("focus"),"aria-pressed":"focus"===Z,className:"px-3 sm:px-4 py-2 rounded-xl font-semibold text-xs sm:text-sm transition-all "+("focus"===Z?"text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"),style:"focus"===Z?{backgroundColor:dt.focus.bg}:{},children:["Foco ",A.focusDuration,"min"]}),a.jsxs("button",{onClick:()=>He("shortBreak"),"aria-pressed":"shortBreak"===Z,className:"px-3 sm:px-4 py-2 rounded-xl font-semibold text-xs sm:text-sm transition-all "+("shortBreak"===Z?"text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"),style:"shortBreak"===Z?{backgroundColor:dt.shortBreak.bg}:{},children:["Pausa ",A.shortBreak,"min"]}),a.jsxs("button",{onClick:()=>He("longBreak"),"aria-pressed":"longBreak"===Z,className:"px-3 sm:px-4 py-2 rounded-xl font-semibold text-xs sm:text-sm transition-all "+("longBreak"===Z?"text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"),style:"longBreak"===Z?{backgroundColor:dt.longBreak.bg}:{},children:["Longa ",A.longBreak,"min"]})]}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-gray-600 font-medium text-sm",children:{focus:"Foco Profundo",shortBreak:"Pausa Curta",longBreak:"Pausa Longa"}[Z]})}),a.jsx("div",{className:"flex flex-col items-center",children:a.jsxs("div",{className:"relative "+(V?"animate-pulse":""),style:{animationDuration:"2s"},children:[V&&a.jsx("div",{className:"absolute inset-0 rounded-full blur-xl opacity-30 animate-pulse",style:{backgroundColor:dt[Z].bg,animationDuration:"1.5s"}}),a.jsxs("svg",{width:200,height:200,viewBox:"0 0 200 200",className:"transform -rotate-90 relative z-10",role:"img","aria-hidden":"true",children:[a.jsx("circle",{cx:100,cy:100,r:90,stroke:dt[Z].light,strokeWidth:8,fill:"transparent"}),a.jsx("circle",{cx:100,cy:100,r:90,stroke:dt[Z].bg,strokeWidth:8,fill:"transparent",strokeDasharray:ot,strokeDashoffset:lt,strokeLinecap:"round",className:"transition-all duration-1000 ease-in-out "+(V?"drop-shadow-lg":""),style:V?{filter:`drop-shadow(0 0 8px ${dt[Z].bg})`}:{}})]}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[V&&a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),a.jsx("span",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-wider",children:"focus"===Z?"Focando":"Pausa"})]}),a.jsxs("p",{role:"timer","aria-live":"polite","aria-atomic":"true",className:"text-5xl sm:text-6xl font-bold tabular-nums",style:{color:dt[Z].bg},children:[a.jsx("span",{className:"sr-only",children:`${at} minutos e ${st} segundos restantes`}),a.jsxs("span",{"aria-hidden":"true",children:[at,":",st]})]}),et&&"focus"===Z&&a.jsxs("p",{className:"mt-1 text-xs text-gray-500 max-w-[150px] truncate text-center",title:et.text,children:["ðŸ“Œ ",et.text]})]})]})}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Ciclos completados: ",a.jsx("span",{className:"font-bold text-blue-600",children:U}),ye.currentStreak>0&&a.jsxs("span",{className:"ml-2 text-orange-500 font-bold",children:[ye.currentStreak,a.jsx(s,{className:"w-3.5 h-3.5 inline text-orange-500"})]})]}),a.jsx("div",{className:"flex justify-center gap-1 mt-2",role:"img","aria-label":`Progresso: ${U%4} de 4 ciclos para pausa longa`,children:[...Array(4)].map((e,t)=>a.jsx("div",{"aria-hidden":"true",className:"w-2 h-2 rounded-full transition-all "+(t<U%4?"bg-blue-600 scale-125":"bg-gray-300")},t))}),a.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2",children:[a.jsx("div",{className:"w-24 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all "+(fe.pomodorosCompleted>=ge?"bg-green-500":"bg-indigo-500"),style:{width:`${Math.min(fe.pomodorosCompleted/ge*100,100)}%`}})}),a.jsxs("span",{className:"text-[10px] text-gray-500",children:[fe.pomodorosCompleted,"/",ge," meta"]})]})]}),a.jsxs("div",{className:"flex gap-2 sm:gap-3 justify-center",children:[a.jsx("button",{className:(V?"bg-amber-500 hover:bg-amber-600 ring-2 ring-amber-300 animate-pulse":"bg-green-600 hover:bg-green-700")+" text-white font-semibold rounded-xl px-6 py-3 sm:px-8 sm:py-3 transition-all shadow-lg hover:scale-105 flex-1 max-w-[180px] flex items-center justify-center gap-2",onClick:()=>{V||qe(),Ne(null),W(!V)},"aria-label":V?"Pausar timer":"Iniciar timer",children:V?a.jsxs(a.Fragment,{children:[a.jsx(d,{className:"w-5 h-5"}),a.jsx("span",{children:"Pausar"})]}):a.jsxs(a.Fragment,{children:[a.jsx(c,{className:"w-5 h-5"}),a.jsx("span",{children:"Iniciar"})]})}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-blue-700 font-semibold rounded-xl px-5 py-3 sm:px-6 sm:py-3 transition-all shadow-lg hover:scale-105",onClick:()=>{W(!1),G(Re(Z)),Ne(null)},"aria-label":`Resetar timer para ${"focus"===Z?A.focusDuration:"shortBreak"===Z?A.shortBreak:A.longBreak} minutos`,children:"Reset"})]}),null!==ke&&a.jsxs("div",{className:"flex items-center justify-center gap-3 bg-indigo-50 rounded-xl p-3",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:["PrÃ³ximo ciclo em ",a.jsxs("span",{className:"font-bold text-indigo-600",children:[ke,"s"]})]}),a.jsx("button",{onClick:()=>Ne(null),className:"text-xs px-3 py-1.5 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors font-medium",children:"Cancelar"})]}),a.jsxs("div",{className:"hidden sm:block pt-3 border-t border-gray-200",children:[a.jsx("p",{className:"text-xs text-gray-500 text-center mb-2",children:"Atalhos de teclado"}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[a.jsxs("kbd",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 border border-gray-300 rounded-md text-xs font-mono shadow-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Space"}),a.jsx("span",{className:"text-gray-700",children:"Timer"})]}),a.jsxs("kbd",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 border border-gray-300 rounded-md text-xs font-mono shadow-sm",children:[a.jsx("span",{className:"text-gray-500",children:"N"}),a.jsx("span",{className:"text-gray-700",children:"Tarefa"})]}),a.jsxs("kbd",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 border border-gray-300 rounded-md text-xs font-mono shadow-sm",children:[a.jsx("span",{className:"text-gray-500",children:"F"}),a.jsx("span",{className:"text-gray-700",children:"Tela cheia"})]}),a.jsxs("kbd",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 border border-gray-300 rounded-md text-xs font-mono shadow-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Esc"}),a.jsx("span",{className:"text-gray-700",children:"Sair"})]})]})]})]})}),a.jsx("div",{className:"w-full lg:w-[40%]",children:a.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-2xl sm:rounded-3xl shadow-2xl p-3 sm:p-6 border border-white/20 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(m,{className:"w-5 h-5 text-indigo-600","aria-hidden":"true"}),a.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Tarefas"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[Ue>0&&a.jsx("button",{onClick:()=>{ee(e=>e.filter(e=>"completed"!==e.status))},className:"text-xs text-gray-500 hover:text-red-500 hover:bg-red-50 px-2 py-1 rounded-lg transition-colors","aria-label":"Remover tarefas concluÃ­das",title:"Limpar concluÃ­das",children:a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(x,{className:"w-3 h-3"}),a.jsx("span",{className:"hidden sm:inline",children:"Limpar"})]})}),Xe>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-600","aria-label":`${Ue} de ${Xe} tarefas concluÃ­das`,children:[a.jsx("span",{className:"text-green-600","aria-hidden":"true",children:Ue}),a.jsx("span",{className:"text-gray-400","aria-hidden":"true",children:"/"}),a.jsx("span",{"aria-hidden":"true",children:Xe})]}),Ue===Xe&&Xe>0&&a.jsx(g,{className:"w-5 h-5 text-yellow-500 animate-bounce","aria-hidden":"true"})]})]})]}),Xe>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",role:"progressbar","aria-valuenow":Ye,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Progresso das tarefas: ${Ye}% concluÃ­do`,children:a.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all duration-500 ease-out",style:{width:`${Ye}%`},"aria-hidden":"true"})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right","aria-hidden":"true",children:[Ye,"% concluÃ­do"]})]}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("label",{htmlFor:"new-task-input",className:"sr-only",children:"Adicionar nova tarefa"}),a.jsx("input",{id:"new-task-input",ref:me,type:"text",value:se,onChange:e=>re(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),Ke())},placeholder:"Nova tarefa...",className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm","aria-describedby":"task-input-hint"}),a.jsx("span",{id:"task-input-hint",className:"sr-only",children:"Pressione Enter para adicionar ou use o botÃ£o ao lado"}),a.jsx("button",{onClick:Ke,disabled:!se.trim(),className:"px-4 py-2.5 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-xl transition-all hover:scale-105 disabled:hover:scale-100","aria-label":"Adicionar tarefa",children:a.jsx(u,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 min-h-[150px] max-h-[50vh] sm:max-h-[400px] lg:max-h-none",children:0===Y.length?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-8 text-gray-400",children:[a.jsx(m,{className:"w-12 h-12 mb-3 opacity-50","aria-hidden":"true"}),a.jsx("p",{className:"text-sm",children:"Nenhuma tarefa ainda"}),a.jsx("p",{className:"text-xs mt-1",children:"Pressione N para adicionar"})]}):Y.map(e=>a.jsxs("div",{className:`\n                            group flex flex-col gap-2 p-3 rounded-xl border transition-all duration-300\n                            ${"none"!==e.priority?`border-l-4 ${$[e.priority].border}`:""}\n                            ${"completed"===e.status&&"bg-green-50 border-green-200"}\n                            ${"in_progress"===e.status&&"bg-indigo-50 border-indigo-300 ring-2 ring-indigo-200"}\n                            ${"pending"===e.status&&"bg-white border-gray-200 hover:border-indigo-300 hover:shadow-sm"}\n                            ${de===e.id?"animate-pulse scale-[1.02]":""}\n                          `,children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsxs("button",{onClick:()=>{return t=e.id,void ee(e=>e.map(a=>{if(a.id===t){let s;return"pending"===a.status?(e.some(e=>e.id!==t&&"in_progress"===e.status)&&e.forEach(e=>{"in_progress"===e.status&&e.id!==t&&(e.status="pending")}),s="in_progress"):"in_progress"===a.status?(s="completed",ce(t),setTimeout(()=>ce(null),600),be(e=>({...e,tasksCompleted:e.tasksCompleted+1}))):s="pending",{...a,status:s,completedAt:"completed"===s?Date.now():void 0}}return a}));var t},className:`\n                                flex-shrink-0 w-8 h-8 sm:w-11 sm:h-11 min-w-[32px] min-h-[32px] sm:min-w-[44px] sm:min-h-[44px] rounded-full border-2 flex items-center justify-center transition-all\n                                ${"completed"===e.status&&"bg-green-500 border-green-500 text-white"}\n                                ${"in_progress"===e.status&&"bg-indigo-500 border-indigo-500 text-white animate-pulse"}\n                                ${"pending"===e.status&&"border-gray-300 hover:border-indigo-400 hover:bg-indigo-50"}\n                              `,"aria-label":"pending"===e.status?"Iniciar tarefa":"in_progress"===e.status?"Concluir tarefa":"Reabrir tarefa",title:"pending"===e.status?"Clique para iniciar":"in_progress"===e.status?"Clique para concluir":"Clique para reabrir",children:["completed"===e.status&&a.jsx(h,{className:"w-5 h-5"}),"in_progress"===e.status&&a.jsx(c,{className:"w-4 h-4"})]}),ne===e.id?a.jsx("input",{type:"text",value:le,onChange:e=>ie(e.target.value),onKeyDown:e=>{"Enter"===e.key&&Ve(),"Escape"===e.key&&We()},onBlur:Ve,autoFocus:!0,className:"flex-1 px-2 py-1 border border-indigo-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"}):a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("span",{onDoubleClick:()=>Ge(e),className:`\n                                    block text-sm transition-all cursor-pointer\n                                    ${"completed"===e.status?"text-gray-500 line-through":""}\n                                    ${"in_progress"===e.status?"text-indigo-800 font-medium":""}\n                                    ${"pending"===e.status?"text-gray-800":""}\n                                  `,children:e.text}),"in_progress"===e.status&&a.jsxs("span",{className:"inline-flex items-center gap-1 mt-1 text-[10px] font-medium text-indigo-600 uppercase tracking-wide",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-pulse"}),"Em andamento"]})]}),!ne&&a.jsxs("div",{className:"flex items-center gap-0 sm:gap-0.5 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity flex-shrink-0",children:["pending"===e.status&&a.jsx("button",{onClick:()=>{return t=e.id,void ee(e=>e.map(e=>e.id===t&&"completed"!==e.status?(ce(t),setTimeout(()=>ce(null),600),be(e=>({...e,tasksCompleted:e.tasksCompleted+1})),{...e,status:"completed",completedAt:Date.now()}):e));var t},className:"min-w-[36px] min-h-[36px] sm:min-w-[44px] sm:min-h-[44px] p-1.5 sm:p-2.5 hover:bg-green-100 rounded-lg transition-colors flex items-center justify-center","aria-label":"Concluir tarefa",title:"Concluir direto",children:a.jsx(h,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"})}),"completed"!==e.status&&a.jsx("button",{onClick:()=>(e=>{const t=["none","low","medium","high"];ee(a=>a.map(a=>{if(a.id===e){const e=t.indexOf(a.priority||"none");return{...a,priority:t[(e+1)%t.length]}}return a}))})(e.id),className:"min-w-[36px] min-h-[36px] sm:min-w-[44px] sm:min-h-[44px] p-1.5 sm:p-2.5 hover:bg-gray-100 rounded-lg transition-colors flex items-center justify-center","aria-label":`Prioridade: ${$[e.priority].label}`,title:`Prioridade: ${$[e.priority].label}`,children:"none"===e.priority?a.jsx("span",{className:"w-4 h-4 sm:w-5 sm:h-5 rounded-full border-2 border-dashed border-gray-300"}):a.jsx("span",{className:`w-4 h-4 sm:w-5 sm:h-5 rounded-full ${$[e.priority].dot}`})}),a.jsx("button",{onClick:()=>Ge(e),className:"min-w-[36px] min-h-[36px] sm:min-w-[44px] sm:min-h-[44px] p-1.5 sm:p-2.5 hover:bg-gray-100 rounded-lg transition-colors flex items-center justify-center","aria-label":"Editar tarefa",children:a.jsx(p,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-500"})}),a.jsx("button",{onClick:()=>{return t=e.id,void ee(e=>e.filter(e=>e.id!==t));var t},className:"min-w-[36px] min-h-[36px] sm:min-w-[44px] sm:min-h-[44px] p-1.5 sm:p-2.5 hover:bg-red-100 rounded-lg transition-colors flex items-center justify-center","aria-label":"Excluir tarefa",children:a.jsx(x,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"})})]})]}),"pending"!==e.status&&e.focusTimeSpent>0&&a.jsx("div",{className:"ml-8 sm:ml-10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-1 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full transition-all "+("completed"===e.status?"bg-green-400":"bg-indigo-400"),style:{width:`${Math.min(e.focusTimeSpent/(60*A.focusDuration)*100,100)}%`}})}),a.jsxs("span",{className:"text-[10px] text-gray-500 tabular-nums min-w-[40px]",children:[Math.floor(e.focusTimeSpent/60),"min"]})]})})]},e.id))}),Y.length>0&&a.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 text-[10px] text-gray-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-3 h-3 rounded-full border-2 border-gray-300"}),"Pendente"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-3 h-3 rounded-full bg-indigo-500"}),"Em andamento"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),"ConcluÃ­da"]})]}),a.jsxs("p",{className:"text-[10px] text-gray-400 text-center mt-2",children:[a.jsx("span",{className:"sm:hidden",children:"Toque no cÃ­rculo para avanÃ§ar estado"}),a.jsx("span",{className:"hidden sm:inline",children:"Clique no cÃ­rculo para avanÃ§ar estado â€¢ Duplo clique no texto para editar"})]})]})]})})]})})})]}),Ue===Xe&&Xe>0&&Ue>0&&a.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50",role:"status","aria-live":"polite",children:[a.jsx("span",{className:"sr-only",children:"ParabÃ©ns! Todas as tarefas foram concluÃ­das!"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:a.jsx("div",{className:"text-6xl animate-bounce","aria-hidden":"true",children:"ðŸŽ‰"})})]}),O&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:ze,role:"dialog","aria-modal":"true","aria-labelledby":"settings-title",children:a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-md mx-4 p-6 space-y-6 max-h-[90vh] overflow-y-auto animate-in zoom-in-95 duration-200",onClick:e=>e.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{id:"settings-title",className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(l,{className:"w-5 h-5 text-indigo-600","aria-hidden":"true"}),"ConfiguraÃ§Ãµes"]}),a.jsx("button",{onClick:ze,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors","aria-label":"Fechar configuraÃ§Ãµes",children:a.jsx(i,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Presets"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:v.map(e=>{const t=J.focusDuration===e.settings.focusDuration&&J.shortBreak===e.settings.shortBreak&&J.longBreak===e.settings.longBreak;return a.jsxs("button",{onClick:()=>q(e.settings),className:"p-2.5 rounded-xl border-2 text-center transition-all hover:scale-105 "+(t?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30":"border-gray-200 dark:border-gray-700 hover:border-indigo-300"),children:[a.jsx("span",{className:"text-lg","aria-hidden":"true",children:e.emoji}),a.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white mt-1",children:e.name}),a.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:[e.settings.focusDuration,"/",e.settings.shortBreak,"min"]})]},e.name)})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"focus-duration",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"DuraÃ§Ã£o do Foco (minutos)"}),a.jsx("input",{id:"focus-duration",type:"number",min:"1",max:"120",value:J.focusDuration,onChange:e=>q(t=>({...t,focusDuration:parseInt(e.target.value)||1})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800 dark:text-white","aria-describedby":"focus-hint"}),a.jsx("p",{id:"focus-hint",className:"text-xs text-gray-500 dark:text-gray-400",children:"TÃ©cnica Pomodoro recomenda 25 minutos (1-120 min)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"short-break",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Pausa Curta (minutos)"}),a.jsx("input",{id:"short-break",type:"number",min:"1",max:"60",value:J.shortBreak,onChange:e=>q(t=>({...t,shortBreak:parseInt(e.target.value)||1})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800 dark:text-white","aria-describedby":"short-break-hint"}),a.jsx("p",{id:"short-break-hint",className:"text-xs text-gray-500 dark:text-gray-400",children:"Recomendado: 5 minutos (1-60 min)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"long-break",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Pausa Longa (minutos)"}),a.jsx("input",{id:"long-break",type:"number",min:"1",max:"60",value:J.longBreak,onChange:e=>q(t=>({...t,longBreak:parseInt(e.target.value)||1})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800 dark:text-white","aria-describedby":"long-break-hint"}),a.jsx("p",{id:"long-break-hint",className:"text-xs text-gray-500 dark:text-gray-400",children:"Recomendado: 15 minutos (1-60 min)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"cycles",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ciclos antes da pausa longa"}),a.jsx("input",{id:"cycles",type:"number",min:"1",max:"10",value:J.cyclesBeforeLongBreak,onChange:e=>q(t=>({...t,cyclesBeforeLongBreak:parseInt(e.target.value)||1})),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800 dark:text-white","aria-describedby":"cycles-hint"}),a.jsx("p",{id:"cycles-hint",className:"text-xs text-gray-500 dark:text-gray-400",children:"Recomendado: 4 ciclos (1-10 ciclos)"})]})]}),a.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 rounded-xl p-4 space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-indigo-700 dark:text-indigo-300",children:"Resumo do ciclo:"}),a.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:[J.cyclesBeforeLongBreak,"Ã— (",J.focusDuration," min foco + ",J.shortBreak," min pausa) + ",J.longBreak," min pausa longa"]}),a.jsxs("p",{className:"text-xs text-indigo-500 dark:text-indigo-500",children:["Total por bloco: ",(J.focusDuration+J.shortBreak)*J.cyclesBeforeLongBreak+J.longBreak," min"]})]}),a.jsxs("div",{className:"space-y-4 pt-2 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[a.jsx(f,{className:"w-4 h-4 text-indigo-600"}),"Engajamento"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"daily-goal",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Meta diÃ¡ria de pomodoros"}),a.jsx("input",{id:"daily-goal",type:"number",min:"1",max:"20",value:ge,onChange:e=>ue(Math.max(1,Math.min(20,parseInt(e.target.value)||1))),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800 dark:text-white"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"AlcanÃ§ar a meta mantÃ©m seu streak ativo (1-20)"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Auto-transiÃ§Ã£o"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Iniciar prÃ³ximo ciclo automaticamente"})]}),a.jsx("button",{onClick:()=>pe(!he),className:"relative w-12 h-7 rounded-full transition-colors "+(he?"bg-indigo-600":"bg-gray-300 dark:bg-gray-600"),role:"switch","aria-checked":he,"aria-label":"Ativar auto-transiÃ§Ã£o entre ciclos",children:a.jsx("span",{className:"absolute top-0.5 left-0.5 w-6 h-6 bg-white rounded-full shadow transition-transform "+(he?"translate-x-5":"translate-x-0")})})]})]}),a.jsxs("div",{className:"space-y-4 pt-2 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:"ðŸŽ¨ AparÃªncia"}),a.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-2",children:M.map(e=>a.jsxs("button",{onClick:()=>Ie(e.id),className:"flex flex-col items-center gap-1 p-2 rounded-xl border-2 transition-all "+(Pe===e.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 scale-105":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),"aria-label":`Tema ${e.name}`,title:e.name,children:[a.jsx("span",{className:"text-lg",children:e.emoji}),a.jsx("span",{className:"text-[10px] text-gray-600 dark:text-gray-400 font-medium",children:e.name}),a.jsxs("div",{className:"flex gap-0.5",children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.focus}}),a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.break}}),a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.long}})]})]},e.id))})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsxs("button",{onClick:()=>{q(N)},className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors","aria-label":"Restaurar configuraÃ§Ãµes padrÃ£o",children:[a.jsx(b,{className:"w-4 h-4"}),"PadrÃ£o"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:ze,className:"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:()=>{const e={focusDuration:Math.max(1,Math.min(120,J.focusDuration)),shortBreak:Math.max(1,Math.min(60,J.shortBreak)),longBreak:Math.max(1,Math.min(60,J.longBreak)),cyclesBeforeLongBreak:Math.max(1,Math.min(10,J.cyclesBeforeLongBreak))};z(e),$e(e),V||G(Oe(Z,e)),R(!1),j({title:"ConfiguraÃ§Ãµes salvas",description:"As novas duraÃ§Ãµes serÃ£o aplicadas no prÃ³ximo ciclo."})},className:"px-4 py-2 text-sm bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors font-medium",children:"Salvar"})]})]})]})}),_e&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:()=>Le(!1),role:"dialog","aria-modal":"true","aria-labelledby":"dashboard-title",children:a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-lg mx-4 p-6 space-y-5 max-h-[90vh] overflow-y-auto animate-in zoom-in-95 duration-200",onClick:e=>e.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{id:"dashboard-title",className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(o,{className:"w-5 h-5 text-indigo-600"}),"Dashboard Semanal"]}),a.jsx("button",{onClick:()=>Le(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors","aria-label":"Fechar dashboard",children:a.jsx(i,{className:"w-5 h-5 text-gray-500"})})]}),a.jsx("div",{children:a.jsx("div",{className:"flex items-end justify-between gap-1 h-32 px-2",children:ct.map(e=>{const t=Math.max(...ct.map(e=>e.stats.pomodorosCompleted),1),s=e.stats.pomodorosCompleted/t*100,r=e.date===E();return a.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[a.jsx("span",{className:"text-[10px] text-gray-500 font-bold tabular-nums",children:e.stats.pomodorosCompleted||""}),a.jsx("div",{className:"w-full flex justify-center",style:{height:"100px"},children:a.jsx("div",{className:"w-8 rounded-t-lg transition-all self-end "+(r?"bg-indigo-500":e.stats.pomodorosCompleted>0?"bg-indigo-300":"bg-gray-200"),style:{height:`${e.stats.pomodorosCompleted>0?Math.max(s,8):4}%`}})}),a.jsx("span",{className:"text-[10px] "+(r?"font-bold text-indigo-600":"text-gray-500"),children:e.dayName})]},e.date)})})}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 rounded-xl p-3 text-center",children:[a.jsx("p",{className:"text-xl font-bold text-indigo-600",children:mt.pomodoros}),a.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400",children:"Pomodoros"})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 rounded-xl p-3 text-center",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:mt.minutes}),a.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400",children:"Minutos"})]}),a.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/30 rounded-xl p-3 text-center",children:[a.jsx("p",{className:"text-xl font-bold text-amber-600",children:mt.tasks}),a.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400",children:"Tarefas"})]})]}),a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-800 rounded-xl p-3",children:[a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-lg font-bold text-gray-800 dark:text-white",children:xt}),a.jsx("p",{className:"text-[10px] text-gray-500",children:"Total geral"})]}),a.jsx("div",{className:"w-px h-8 bg-gray-300 dark:bg-gray-600"}),a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-lg font-bold text-orange-500",children:ye.currentStreak>0?a.jsxs(a.Fragment,{children:[ye.currentStreak,a.jsx(s,{className:"w-4 h-4 inline"})]}):"0"}),a.jsx("p",{className:"text-[10px] text-gray-500",children:"Streak atual"})]}),a.jsx("div",{className:"w-px h-8 bg-gray-300 dark:bg-gray-600"}),a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-lg font-bold text-purple-600",children:ye.longestStreak}),a.jsx("p",{className:"text-[10px] text-gray-500",children:"Melhor streak"})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[a.jsx(y,{className:"w-4 h-4 text-yellow-500"}),"Conquistas (",Be.length,"/",F.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:F.map(e=>{const t=Be.includes(e.id);return a.jsxs("div",{className:"p-2.5 rounded-xl border text-center transition-all "+(t?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 opacity-50"),children:[a.jsx("span",{className:"text-xl",children:t?e.emoji:"ðŸ”’"}),a.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white mt-1",children:e.name}),a.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:e.desc})]},e.id)})})]})]})}),ve&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:()=>we(!1),role:"dialog","aria-modal":"true","aria-labelledby":"report-title",children:a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-sm mx-4 p-6 space-y-5 animate-in zoom-in-95 duration-200",onClick:e=>e.stopPropagation(),children:[a.jsxs("div",{className:"text-center",children:[a.jsx(o,{className:"w-8 h-8 text-indigo-600 mx-auto mb-2"}),a.jsx("h2",{id:"report-title",className:"text-xl font-bold text-gray-900 dark:text-white",children:"RelatÃ³rio da SessÃ£o"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 rounded-xl p-3 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:U}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Pomodoros"})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 rounded-xl p-3 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:tt}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Min focados"})]}),a.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/30 rounded-xl p-3 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-amber-600",children:Y.filter(e=>e.completedAt&&e.completedAt>=xe.current).length}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Tarefas concluÃ­das"})]}),a.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/30 rounded-xl p-3 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-orange-500",children:ye.currentStreak>0?a.jsxs(a.Fragment,{children:[ye.currentStreak,a.jsx(s,{className:"w-5 h-5 inline"})]}):"â€”"}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Streak"})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Meta diÃ¡ria"}),a.jsxs("span",{className:"text-xs font-bold text-indigo-600",children:[fe.pomodorosCompleted,"/",ge]})]}),a.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all "+(fe.pomodorosCompleted>=ge?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-gradient-to-r from-indigo-500 to-purple-500"),style:{width:`${Math.min(fe.pomodorosCompleted/ge*100,100)}%`}})}),fe.pomodorosCompleted>=ge&&a.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1 text-center font-medium",children:"Meta alcanÃ§ada!"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>we(!1),className:"flex-1 px-4 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl transition-colors font-medium text-sm",children:"Continuar"}),a.jsx("button",{onClick:()=>T(-1),className:"flex-1 px-4 py-2.5 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-xl transition-colors font-medium text-sm",children:"Sair"})]})]})})]})]})}export{T as default};
