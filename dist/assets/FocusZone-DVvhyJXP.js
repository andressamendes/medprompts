import{j as e}from"./index-Ck-wsLWv.js";import{u as q,r as t}from"./react-vendor-Bq2irNGE.js";import{X as H,P as K,z as U,a4 as V,a5 as Z}from"./ui-vendor-DQkSeNuE.js";const w=50*60,B=5*60,E=15*60,x=[{name:"Lofi Hip Hop",url:"https://stream.zeno.fm/f3wvbbqmdg8uv",color:"from-amber-400/20 to-orange-400/20"},{name:"Chillhop Radio",url:"https://stream.zeno.fm/0r0xa792kwzuv",color:"from-blue-400/20 to-cyan-400/20"},{name:"Jazzy Beats",url:"https://stream.zeno.fm/f6vhq8qqtg8uv",color:"from-purple-400/20 to-pink-400/20"}],W="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg";function Q(){const k=q(),[a,g]=t.useState("focus"),[f,c]=t.useState(w),[m,u]=t.useState(!1),[p,T]=t.useState(0),o=t.useRef(null),i=t.useRef(null),[h,I]=t.useState(0),[d,b]=t.useState(!1),[n,C]=t.useState(50),r=t.useRef(null),y=s=>{switch(s){case"focus":return w;case"shortBreak":return B;case"longBreak":return E}};t.useEffect(()=>(m?o.current=setInterval(()=>{c(s=>s>1?s-1:(L(),0))},1e3):o.current&&(clearInterval(o.current),o.current=null),()=>{o.current&&(clearInterval(o.current),o.current=null)}),[m]);const L=()=>{if(u(!1),i.current&&(i.current.currentTime=0,i.current.play()),a==="focus"){const s=p+1;T(s),s%4===0?(g("longBreak"),c(E)):(g("shortBreak"),c(B))}else g("focus"),c(w)},v=s=>{g(s),c(y(s)),u(!1)},z=()=>{u(!1),c(y(a)),i.current&&(i.current.pause(),i.current.currentTime=0)},A=()=>{I(s=>(s+1)%x.length),b(!1),r.current&&(r.current.pause(),r.current.currentTime=0)},S=()=>{r.current&&(d?r.current.pause():r.current.play(),b(s=>!s))},P=()=>{C(n>0?0:50)};t.useEffect(()=>{r.current&&(r.current.volume=n/100)},[n]),t.useEffect(()=>{const s=l=>{l.key==="Escape"&&k(-1),l.key===" "&&(l.preventDefault(),u(_=>!_)),l.key.toLowerCase()==="m"&&P(),l.key.toLowerCase()==="p"&&S()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[n,d]);const D=Math.floor(f/60).toString().padStart(2,"0"),M=(f%60).toString().padStart(2,"0"),R=y(a),$=(R-f)/R*100,j=2*Math.PI*90,F=j-$/100*j,O={focus:"Foco Profundo",shortBreak:"Pausa Curta",longBreak:"Pausa Longa"},N={focus:{bg:"#6366f1",light:"#e0e7ff"},shortBreak:{bg:"#10b981",light:"#d1fae5"},longBreak:{bg:"#8b5cf6",light:"#ede9fe"}};return e.jsxs("main",{className:"relative min-h-screen overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900"}),e.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:`
            linear-gradient(rgba(99, 102, 241, 0.3) 1px, transparent 1px),
            linear-gradient(90deg, rgba(99, 102, 241, 0.3) 1px, transparent 1px)
          `,backgroundSize:"50px 50px"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-transparent to-black/60"}),e.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[e.jsxs("header",{className:"w-full p-3 sm:p-6 flex justify-between items-center",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-xl sm:text-3xl font-bold text-white drop-shadow-lg",children:"Focus Zone"})}),e.jsxs("button",{onClick:()=>k(-1),className:"flex items-center gap-2 px-3 py-2 sm:px-4 sm:py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all border border-white/20 hover:scale-105","aria-label":"Sair do Focus Zone",children:[e.jsx(H,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"text-sm sm:text-base hidden sm:inline",children:"Sair"})]})]}),e.jsx("section",{className:"flex-1 flex items-center justify-center px-3 sm:px-6 pb-6",children:e.jsx("div",{className:"w-full max-w-lg",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl p-6 sm:p-8 space-y-6 border border-white/20",children:[e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx("button",{onClick:()=>v("focus"),className:`px-4 py-2 rounded-xl font-semibold text-sm transition-all ${a==="focus"?"bg-indigo-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Foco"}),e.jsx("button",{onClick:()=>v("shortBreak"),className:`px-4 py-2 rounded-xl font-semibold text-sm transition-all ${a==="shortBreak"?"bg-green-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Pausa 5min"}),e.jsx("button",{onClick:()=>v("longBreak"),className:`px-4 py-2 rounded-xl font-semibold text-sm transition-all ${a==="longBreak"?"bg-purple-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Pausa 15min"})]}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-600 font-medium text-sm",children:O[a]})}),e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{width:200,height:200,viewBox:"0 0 200 200",className:"transform -rotate-90",children:[e.jsx("circle",{cx:100,cy:100,r:90,stroke:N[a].light,strokeWidth:8,fill:"transparent"}),e.jsx("circle",{cx:100,cy:100,r:90,stroke:N[a].bg,strokeWidth:8,fill:"transparent",strokeDasharray:j,strokeDashoffset:F,strokeLinecap:"round",className:"transition-all duration-1000 ease-in-out"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("p",{className:"text-5xl sm:text-6xl font-bold tabular-nums",style:{color:N[a].bg},children:[D,":",M]})})]})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Ciclos completados: ",e.jsx("span",{className:"font-bold text-indigo-600",children:p})]}),e.jsx("div",{className:"flex justify-center gap-1 mt-2",children:[...Array(4)].map((s,l)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${l<p%4?"bg-indigo-600 scale-125":"bg-gray-300"}`},l))})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3 justify-center",children:[e.jsx("button",{className:`${m?"bg-indigo-600 hover:bg-indigo-700":"bg-purple-600 hover:bg-purple-700"} text-white font-semibold rounded-xl px-6 py-3 sm:px-8 sm:py-3 transition-all shadow-lg hover:scale-105 flex-1 max-w-[160px]`,onClick:()=>u(!m),children:m?"Pausar":"Iniciar"}),e.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-indigo-700 font-semibold rounded-xl px-5 py-3 sm:px-6 sm:py-3 transition-all shadow-lg hover:scale-105",onClick:z,title:"Resetar timer",children:"Reset"})]}),e.jsxs("div",{className:`bg-gradient-to-br ${x[h].color} rounded-2xl shadow-inner p-5 sm:p-6 border border-indigo-200/30 backdrop-blur-sm`,children:[e.jsxs("div",{className:"flex flex-col gap-3 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${d?"bg-red-500 animate-pulse":"bg-gray-400"}`}),e.jsx("span",{className:"font-semibold text-indigo-900 text-sm sm:text-base",children:x[h].name})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3 w-full items-center",children:[e.jsxs("button",{onClick:S,className:"flex-1 px-4 py-2.5 sm:px-6 sm:py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl shadow-lg transition-all hover:scale-105 flex items-center justify-center gap-2","aria-label":d?"Pausar Rádio":"Tocar Rádio",children:[d?e.jsx(K,{className:"w-4 h-4"}):e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:d?"Pausar":"Play"})]}),e.jsx("button",{onClick:A,className:"px-4 py-2.5 sm:px-5 sm:py-3 bg-white hover:bg-gray-50 text-indigo-700 font-semibold border-2 border-indigo-300 rounded-xl shadow-lg transition-all hover:scale-105","aria-label":"Próxima Estação",children:"Trocar"})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full",children:[e.jsx("button",{onClick:P,className:"p-2 hover:bg-white/20 rounded-lg transition-all","aria-label":n===0?"Ativar som":"Desativar som",children:n===0?e.jsx(V,{className:"w-5 h-5 text-indigo-900"}):e.jsx(Z,{className:"w-5 h-5 text-indigo-900"})}),e.jsx("input",{type:"range",min:"0",max:"100",value:n,onChange:s=>C(Number(s.target.value)),className:"flex-1 h-2 bg-indigo-200 rounded-lg appearance-none cursor-pointer accent-indigo-600","aria-label":"Controle de volume"}),e.jsxs("span",{className:"text-indigo-900 font-semibold text-sm min-w-[3ch]",children:[n,"%"]})]})]}),e.jsx("audio",{ref:r,src:x[h].url,"aria-label":`Stream ${x[h].name}`,className:"sr-only",preload:"none",onEnded:()=>b(!1)})]}),e.jsx("div",{className:"text-center pt-2 border-t border-gray-200",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Espaço: Play/Pause Timer • P: Play/Pause Música • M: Mute • ESC: Sair"})}),e.jsx("audio",{ref:i,src:W,preload:"auto",className:"sr-only"})]})})})]})]})}export{Q as default};
