import{g as e,r as s,j as a,X as t,aA as r,aB as n,aC as l,aD as i,aE as o,o as c,aF as d,a0 as m,aG as x,aH as u}from"./vendor-NXeC13k1.js";import{t as p,S as g}from"./index-C9LlY9EK.js";const h=3e3,f=[{name:"Lofi Hip Hop",url:"https://stream.zeno.fm/f3wvbbqmdg8uv",color:"from-amber-400/20 to-orange-400/20"},{name:"Chillhop Radio",url:"https://stream.zeno.fm/0r0xa792kwzuv",color:"from-blue-400/20 to-cyan-400/20"},{name:"Jazzy Beats",url:"https://stream.zeno.fm/f6vhq8qqtg8uv",color:"from-purple-400/20 to-pink-400/20"}],b="focuszone_tasks";function j(){const j=e(),[N,y]=s.useState("focus"),[v,w]=s.useState(h),[k,C]=s.useState(!1),[S,T]=s.useState(0),E=s.useRef(null),P=s.useRef(null),[$,B]=s.useState(0),[_,D]=s.useState(!1),[z,A]=s.useState(50),F=s.useRef(null),[I,R]=s.useState(()=>{try{const e=localStorage.getItem(b);if(e){const s=JSON.parse(e);if(Array.isArray(s))return s.map(e=>{const s={id:e.id,text:e.text,createdAt:e.createdAt,completedAt:e.completedAt,focusTimeSpent:e.focusTimeSpent??0};return"completed"in e&&!("status"in e)?{...s,status:e.completed?"completed":"pending"}:{...s,status:e.status??"pending"}})}}catch{}return[]}),[q,M]=s.useState(0),[L,H]=s.useState(""),[Z,J]=s.useState(null),[G,K]=s.useState(""),[O,W]=s.useState(null),U=s.useRef(null),V=s.useRef(null);s.useEffect(()=>(V.current&&clearTimeout(V.current),V.current=setTimeout(()=>{try{localStorage.setItem(b,JSON.stringify(I))}catch{}},500),()=>{V.current&&clearTimeout(V.current)}),[I]);const Q=e=>{switch(e){case"focus":return h;case"shortBreak":return 300;case"longBreak":return 900}},X=s.useCallback(()=>{if(C(!1),P.current&&(P.current.currentTime=0,P.current.play()),"focus"===N){const e=S+1;T(e),e%4==0?(y("longBreak"),w(900)):(y("shortBreak"),w(300))}else y("focus"),w(h)},[N,S]);s.useEffect(()=>(k?E.current=setInterval(()=>{w(e=>e>1?e-1:(X(),0)),"focus"===N&&(M(e=>e+1),R(e=>e.map(e=>"in_progress"===e.status?{...e,focusTimeSpent:e.focusTimeSpent+1}:e)))},1e3):E.current&&(clearInterval(E.current),E.current=null),()=>{E.current&&(clearInterval(E.current),E.current=null)}),[k,X,N]);const Y=e=>{y(e),w(Q(e)),C(!1)},ee=s.useCallback(async()=>{if(F.current)try{_?F.current.pause():await F.current.play(),D(e=>!e)}catch(e){p({title:"Erro ao reproduzir",description:"NÃ£o foi possÃ­vel iniciar a mÃºsica. Verifique sua conexÃ£o.",variant:"destructive"})}},[_]),se=s.useCallback(()=>{A(z>0?0:50)},[z]);s.useEffect(()=>{F.current&&(F.current.volume=z/100)},[z]),s.useEffect(()=>{const e=F.current,s=P.current,a=E.current;return()=>{e&&(e.pause(),e.currentTime=0),s&&(s.pause(),s.currentTime=0),a&&clearInterval(a)}},[]);const ae=()=>{var e;const s=L.trim();if(!s)return;const a={id:`task_${Date.now()}_${Math.random().toString(36).slice(2,9)}`,text:s,status:"pending",createdAt:Date.now(),focusTimeSpent:0};R(e=>[a,...e]),H(""),null==(e=U.current)||e.focus()},te=e=>{J(e.id),K(e.text)},re=()=>{if(!Z)return;const e=G.trim();e?(R(s=>s.map(s=>s.id===Z?{...s,text:e}:s)),ne()):ne()},ne=()=>{J(null),K("")},le=I.filter(e=>"completed"===e.status).length,ie=I.filter(e=>"in_progress"===e.status).length,oe=I.filter(e=>"pending"===e.status).length,ce=I.length,de=ce>0?Math.round(le/ce*100):0,me=I.find(e=>"in_progress"===e.status),xe=Math.floor((50*S*60+q)/60);s.useEffect(()=>{const e=e=>{var s,a,t;Z||"INPUT"===(null==(s=document.activeElement)?void 0:s.tagName)?"Escape"===e.key&&(ne(),null==(a=document.activeElement)||a.blur()):("Escape"===e.key&&j(-1)," "===e.key&&(e.preventDefault(),C(e=>!e)),"m"===e.key.toLowerCase()&&se(),"p"===e.key.toLowerCase()&&ee(),"n"===e.key.toLowerCase()&&(e.preventDefault(),null==(t=U.current)||t.focus()))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[z,_,Z,j,se,ee]);const ue=Math.floor(v/60).toString().padStart(2,"0"),pe=(v%60).toString().padStart(2,"0"),ge=Q(N),he=(ge-v)/ge*100,fe=2*Math.PI*90,be=fe-he/100*fe,je={focus:{bg:"#6366f1",light:"#e0e7ff"},shortBreak:{bg:"#10b981",light:"#d1fae5"},longBreak:{bg:"#8b5cf6",light:"#ede9fe"}};return a.jsxs(a.Fragment,{children:[a.jsx(g,{title:"Focus Zone - Pomodoro",description:"Timer Pomodoro com musica lo-fi para estudos focados. Gerencie tarefas e mantenha o foco durante suas sessoes de estudo.",canonical:"https://andressamendes.github.io/medprompts/focus-zone",breadcrumbs:[{name:"Home",url:"https://andressamendes.github.io/medprompts/"},{name:"Focus Zone",url:"https://andressamendes.github.io/medprompts/focus-zone"}]}),a.jsxs("main",{id:"main-content",className:"relative min-h-screen overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-blue-950 to-slate-900"}),a.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"\n            linear-gradient(rgba(99, 102, 241, 0.3) 1px, transparent 1px),\n            linear-gradient(90deg, rgba(99, 102, 241, 0.3) 1px, transparent 1px)\n          ",backgroundSize:"50px 50px"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-transparent to-black/60"}),a.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[a.jsxs("header",{className:"w-full p-3 sm:p-6 flex justify-between items-center",children:[a.jsx("div",{children:a.jsx("h1",{className:"text-xl sm:text-3xl font-bold text-white drop-shadow-lg",children:"Focus Zone"})}),a.jsx("div",{className:"hidden sm:flex items-center gap-3",children:a.jsxs("div",{className:"flex items-center gap-4 bg-white/10 backdrop-blur-sm rounded-xl px-4 py-2 border border-white/20",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-bold text-white",children:S}),a.jsx("p",{className:"text-[10px] text-gray-300 uppercase tracking-wide",children:"Pomodoros"})]}),a.jsx("div",{className:"w-px h-8 bg-white/20"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-bold text-white",children:xe}),a.jsx("p",{className:"text-[10px] text-gray-300 uppercase tracking-wide",children:"min focados"})]}),a.jsx("div",{className:"w-px h-8 bg-white/20"}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[a.jsx("span",{className:"text-lg font-bold text-green-400",children:le}),ie>0&&a.jsxs("span",{className:"text-sm font-bold text-indigo-400",children:["+",ie]}),a.jsxs("span",{className:"text-gray-400 text-sm",children:["/",ce]})]}),a.jsx("p",{className:"text-[10px] text-gray-300 uppercase tracking-wide",children:oe>0?`${oe} pendentes`:"tarefas"})]})]})}),a.jsxs("button",{onClick:()=>j(-1),className:"flex items-center gap-2 px-3 py-2 sm:px-4 sm:py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all border border-white/20 hover:scale-105","aria-label":"Sair do Focus Zone",children:[a.jsx(t,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"text-sm sm:text-base hidden sm:inline",children:"Sair"})]})]}),a.jsx("section",{className:"flex-1 flex items-start justify-center px-3 sm:px-6 pb-6 pt-2","aria-label":"Timer Pomodoro e lista de tarefas",children:a.jsx("div",{className:"w-full max-w-6xl",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-6",children:[a.jsx("div",{className:"w-full lg:w-[60%]",children:a.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl p-5 sm:p-8 space-y-5 border border-white/20",children:[a.jsxs("div",{className:"flex gap-2 justify-center flex-wrap",role:"group","aria-label":"Selecionar modo do timer",children:[a.jsx("button",{onClick:()=>Y("focus"),"aria-pressed":"focus"===N,className:"px-3 sm:px-4 py-2 rounded-xl font-semibold text-sm transition-all "+("focus"===N?"bg-blue-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Foco"}),a.jsx("button",{onClick:()=>Y("shortBreak"),"aria-pressed":"shortBreak"===N,className:"px-3 sm:px-4 py-2 rounded-xl font-semibold text-sm transition-all "+("shortBreak"===N?"bg-green-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Pausa 5min"}),a.jsx("button",{onClick:()=>Y("longBreak"),"aria-pressed":"longBreak"===N,className:"px-3 sm:px-4 py-2 rounded-xl font-semibold text-sm transition-all "+("longBreak"===N?"bg-green-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Pausa 15min"})]}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-gray-600 font-medium text-sm",children:{focus:"Foco Profundo",shortBreak:"Pausa Curta",longBreak:"Pausa Longa"}[N]})}),a.jsx("div",{className:"flex flex-col items-center",children:a.jsxs("div",{className:"relative "+(k?"animate-pulse":""),style:{animationDuration:"2s"},children:[k&&a.jsx("div",{className:"absolute inset-0 rounded-full blur-xl opacity-30 animate-pulse",style:{backgroundColor:je[N].bg,animationDuration:"1.5s"}}),a.jsxs("svg",{width:200,height:200,viewBox:"0 0 200 200",className:"transform -rotate-90 relative z-10",role:"img","aria-hidden":"true",children:[a.jsx("circle",{cx:100,cy:100,r:90,stroke:je[N].light,strokeWidth:8,fill:"transparent"}),a.jsx("circle",{cx:100,cy:100,r:90,stroke:je[N].bg,strokeWidth:8,fill:"transparent",strokeDasharray:fe,strokeDashoffset:be,strokeLinecap:"round",className:"transition-all duration-1000 ease-in-out "+(k?"drop-shadow-lg":""),style:k?{filter:`drop-shadow(0 0 8px ${je[N].bg})`}:{}})]}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10",children:[k&&a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),a.jsx("span",{className:"text-[10px] font-medium text-gray-500 uppercase tracking-wider",children:"focus"===N?"Focando":"Pausa"})]}),a.jsxs("p",{role:"timer","aria-live":"polite","aria-atomic":"true",className:"text-5xl sm:text-6xl font-bold tabular-nums",style:{color:je[N].bg},children:[a.jsx("span",{className:"sr-only",children:`${ue} minutos e ${pe} segundos restantes`}),a.jsxs("span",{"aria-hidden":"true",children:[ue,":",pe]})]}),me&&"focus"===N&&a.jsxs("p",{className:"mt-1 text-xs text-gray-500 max-w-[150px] truncate text-center",title:me.text,children:["ðŸ“Œ ",me.text]})]})]})}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Ciclos completados: ",a.jsx("span",{className:"font-bold text-blue-600",children:S})]}),a.jsx("div",{className:"flex justify-center gap-1 mt-2",role:"img","aria-label":`Progresso: ${S%4} de 4 ciclos para pausa longa`,children:[...Array(4)].map((e,s)=>a.jsx("div",{"aria-hidden":"true",className:"w-2 h-2 rounded-full transition-all "+(s<S%4?"bg-blue-600 scale-125":"bg-gray-300")},s))})]}),a.jsxs("div",{className:"flex gap-2 sm:gap-3 justify-center",children:[a.jsx("button",{className:(k?"bg-amber-500 hover:bg-amber-600 ring-2 ring-amber-300 animate-pulse":"bg-green-600 hover:bg-green-700")+" text-white font-semibold rounded-xl px-6 py-3 sm:px-8 sm:py-3 transition-all shadow-lg hover:scale-105 flex-1 max-w-[180px] flex items-center justify-center gap-2",onClick:()=>C(!k),"aria-label":k?"Pausar timer":"Iniciar timer",children:k?a.jsxs(a.Fragment,{children:[a.jsx(r,{className:"w-5 h-5"}),a.jsx("span",{children:"Pausar"})]}):a.jsxs(a.Fragment,{children:[a.jsx(n,{className:"w-5 h-5"}),a.jsx("span",{children:"Iniciar"})]})}),a.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-blue-700 font-semibold rounded-xl px-5 py-3 sm:px-6 sm:py-3 transition-all shadow-lg hover:scale-105",onClick:()=>{C(!1),w(Q(N)),P.current&&(P.current.pause(),P.current.currentTime=0)},"aria-label":`Resetar timer para ${"focus"===N?"50":"shortBreak"===N?"5":"15"} minutos`,children:"Reset"})]}),a.jsxs("div",{className:`bg-gradient-to-br ${f[$].color} rounded-2xl shadow-inner p-4 sm:p-5 border border-blue-200/30 backdrop-blur-sm`,children:[a.jsxs("div",{className:"flex flex-col gap-3 items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full "+(_?"bg-red-500 animate-pulse":"bg-gray-400"),"aria-hidden":"true"}),a.jsx("span",{className:"sr-only",children:_?"Reproduzindo:":"Pausado:"}),a.jsx("span",{className:"font-semibold text-blue-900 text-sm sm:text-base",children:f[$].name})]}),a.jsxs("div",{className:"flex gap-2 sm:gap-3 w-full items-center",children:[a.jsxs("button",{onClick:ee,className:"flex-1 px-4 py-2.5 sm:px-6 sm:py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg transition-all hover:scale-105 flex items-center justify-center gap-2","aria-label":_?"Pausar RÃ¡dio":"Tocar RÃ¡dio",children:[_?a.jsx(r,{className:"w-4 h-4"}):a.jsx(n,{className:"w-4 h-4"}),a.jsx("span",{children:_?"Pausar":"Play"})]}),a.jsx("button",{onClick:()=>{B(e=>(e+1)%f.length),D(!1),F.current&&(F.current.pause(),F.current.currentTime=0)},className:"px-4 py-2.5 sm:px-5 sm:py-3 bg-white hover:bg-gray-50 text-blue-700 font-semibold border-2 border-blue-300 rounded-xl shadow-lg transition-all hover:scale-105","aria-label":"PrÃ³xima EstaÃ§Ã£o",children:"Trocar"})]}),a.jsxs("div",{className:"flex items-center gap-3 w-full",children:[a.jsx("button",{onClick:se,className:"p-2 hover:bg-white/20 rounded-lg transition-all","aria-label":0===z?"Ativar som":"Desativar som",children:0===z?a.jsx(l,{className:"w-5 h-5 text-blue-900"}):a.jsx(i,{className:"w-5 h-5 text-blue-900"})}),a.jsx("input",{type:"range",min:"0",max:"100",value:z,onChange:e=>A(Number(e.target.value)),className:"flex-1 h-2 bg-indigo-200 rounded-lg appearance-none cursor-pointer accent-indigo-600","aria-label":"Controle de volume"}),a.jsxs("span",{className:"text-blue-900 font-semibold text-sm min-w-[3ch]",children:[z,"%"]})]})]}),a.jsx("audio",{ref:F,src:f[$].url,"aria-label":`Stream ${f[$].name}`,className:"sr-only",preload:"none",onEnded:()=>D(!1)})]}),a.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[a.jsx("p",{className:"text-xs text-gray-500 text-center mb-2",children:"Atalhos de teclado"}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[a.jsxs("kbd",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 border border-gray-300 rounded-md text-xs font-mono shadow-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Space"}),a.jsx("span",{className:"text-gray-700",children:"Timer"})]}),a.jsxs("kbd",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 border border-gray-300 rounded-md text-xs font-mono shadow-sm",children:[a.jsx("span",{className:"text-gray-500",children:"P"}),a.jsx("span",{className:"text-gray-700",children:"MÃºsica"})]}),a.jsxs("kbd",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 border border-gray-300 rounded-md text-xs font-mono shadow-sm",children:[a.jsx("span",{className:"text-gray-500",children:"M"}),a.jsx("span",{className:"text-gray-700",children:"Mute"})]}),a.jsxs("kbd",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 border border-gray-300 rounded-md text-xs font-mono shadow-sm",children:[a.jsx("span",{className:"text-gray-500",children:"N"}),a.jsx("span",{className:"text-gray-700",children:"Tarefa"})]}),a.jsxs("kbd",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 border border-gray-300 rounded-md text-xs font-mono shadow-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Esc"}),a.jsx("span",{className:"text-gray-700",children:"Sair"})]})]})]}),a.jsx("audio",{ref:P,src:"https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg",preload:"auto",className:"sr-only"})]})}),a.jsx("div",{className:"w-full lg:w-[40%]",children:a.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl p-5 sm:p-6 border border-white/20 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(o,{className:"w-5 h-5 text-indigo-600","aria-hidden":"true"}),a.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Tarefas"})]}),ce>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-600","aria-label":`${le} de ${ce} tarefas concluÃ­das`,children:[a.jsx("span",{className:"text-green-600","aria-hidden":"true",children:le}),a.jsx("span",{className:"text-gray-400","aria-hidden":"true",children:"/"}),a.jsx("span",{"aria-hidden":"true",children:ce})]}),le===ce&&ce>0&&a.jsx(c,{className:"w-5 h-5 text-yellow-500 animate-bounce","aria-hidden":"true"})]})]}),ce>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all duration-500 ease-out",style:{width:`${de}%`}})}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[de,"% concluÃ­do"]})]}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("input",{ref:U,type:"text",value:L,onChange:e=>H(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ae())},placeholder:"Nova tarefa...",className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm"}),a.jsx("button",{onClick:ae,disabled:!L.trim(),className:"px-4 py-2.5 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-xl transition-all hover:scale-105 disabled:hover:scale-100","aria-label":"Adicionar tarefa",children:a.jsx(d,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 min-h-[200px] max-h-[400px] lg:max-h-none",children:0===I.length?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-8 text-gray-400",children:[a.jsx(o,{className:"w-12 h-12 mb-3 opacity-50","aria-hidden":"true"}),a.jsx("p",{className:"text-sm",children:"Nenhuma tarefa ainda"}),a.jsx("p",{className:"text-xs mt-1",children:"Pressione N para adicionar"})]}):I.map(e=>a.jsxs("div",{className:`\n                            group flex flex-col gap-2 p-3 rounded-xl border transition-all duration-300\n                            ${"completed"===e.status&&"bg-green-50 border-green-200"}\n                            ${"in_progress"===e.status&&"bg-indigo-50 border-indigo-300 ring-2 ring-indigo-200"}\n                            ${"pending"===e.status&&"bg-white border-gray-200 hover:border-indigo-300 hover:shadow-sm"}\n                            ${O===e.id?"animate-pulse scale-[1.02]":""}\n                          `,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>{return s=e.id,void R(e=>e.map(a=>{if(a.id===s){let t;return"pending"===a.status?(e.some(e=>e.id!==s&&"in_progress"===e.status)&&e.forEach(e=>{"in_progress"===e.status&&e.id!==s&&(e.status="pending")}),t="in_progress"):"in_progress"===a.status?(t="completed",W(s),setTimeout(()=>W(null),600)):t="pending",{...a,status:t,completedAt:"completed"===t?Date.now():void 0}}return a}));var s},className:`\n                                flex-shrink-0 w-7 h-7 rounded-full border-2 flex items-center justify-center transition-all\n                                ${"completed"===e.status&&"bg-green-500 border-green-500 text-white"}\n                                ${"in_progress"===e.status&&"bg-indigo-500 border-indigo-500 text-white animate-pulse"}\n                                ${"pending"===e.status&&"border-gray-300 hover:border-indigo-400 hover:bg-indigo-50"}\n                              `,"aria-label":"pending"===e.status?"Iniciar tarefa":"in_progress"===e.status?"Concluir tarefa":"Reabrir tarefa",title:"pending"===e.status?"Clique para iniciar":"in_progress"===e.status?"Clique para concluir":"Clique para reabrir",children:["completed"===e.status&&a.jsx(m,{className:"w-4 h-4"}),"in_progress"===e.status&&a.jsx(n,{className:"w-3 h-3"})]}),Z===e.id?a.jsx("input",{type:"text",value:G,onChange:e=>K(e.target.value),onKeyDown:e=>{"Enter"===e.key&&re(),"Escape"===e.key&&ne()},onBlur:re,autoFocus:!0,className:"flex-1 px-2 py-1 border border-indigo-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"}):a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("span",{onDoubleClick:()=>te(e),className:`\n                                    block text-sm transition-all cursor-pointer\n                                    ${"completed"===e.status?"text-gray-500 line-through":""}\n                                    ${"in_progress"===e.status?"text-indigo-800 font-medium":""}\n                                    ${"pending"===e.status?"text-gray-800":""}\n                                  `,children:e.text}),"in_progress"===e.status&&a.jsxs("span",{className:"inline-flex items-center gap-1 mt-1 text-[10px] font-medium text-indigo-600 uppercase tracking-wide",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-pulse"}),"Em andamento"]})]}),!Z&&a.jsxs("div",{className:"flex items-center gap-1 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:["pending"===e.status&&a.jsx("button",{onClick:()=>{return s=e.id,void R(e=>e.map(e=>e.id===s&&"completed"!==e.status?(W(s),setTimeout(()=>W(null),600),{...e,status:"completed",completedAt:Date.now()}):e));var s},className:"p-1.5 hover:bg-green-100 rounded-lg transition-colors","aria-label":"Concluir tarefa",title:"Concluir direto",children:a.jsx(m,{className:"w-4 h-4 text-green-600"})}),a.jsx("button",{onClick:()=>te(e),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Editar tarefa",children:a.jsx(x,{className:"w-4 h-4 text-gray-500"})}),a.jsx("button",{onClick:()=>{return s=e.id,void R(e=>e.filter(e=>e.id!==s));var s},className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors","aria-label":"Excluir tarefa",children:a.jsx(u,{className:"w-4 h-4 text-red-500"})})]})]}),"pending"!==e.status&&e.focusTimeSpent>0&&a.jsx("div",{className:"ml-10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-1 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full transition-all "+("completed"===e.status?"bg-green-400":"bg-indigo-400"),style:{width:`${Math.min(e.focusTimeSpent/3e3*100,100)}%`}})}),a.jsxs("span",{className:"text-[10px] text-gray-500 tabular-nums min-w-[40px]",children:[Math.floor(e.focusTimeSpent/60),"min"]})]})})]},e.id))}),I.length>0&&a.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 text-[10px] text-gray-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-3 h-3 rounded-full border-2 border-gray-300"}),"Pendente"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-3 h-3 rounded-full bg-indigo-500"}),"Em andamento"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),"ConcluÃ­da"]})]}),a.jsx("p",{className:"text-[10px] text-gray-400 text-center mt-2",children:"Clique no cÃ­rculo para avanÃ§ar estado â€¢ Duplo clique no texto para editar"})]})]})})]})})})]}),le===ce&&ce>0&&le>0&&a.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50",role:"status","aria-live":"polite",children:[a.jsx("span",{className:"sr-only",children:"ParabÃ©ns! Todas as tarefas foram concluÃ­das!"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:a.jsx("div",{className:"text-6xl animate-bounce","aria-hidden":"true",children:"ðŸŽ‰"})})]})]})]})}export{j as default};
