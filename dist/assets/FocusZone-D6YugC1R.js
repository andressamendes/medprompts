import{g as e,r as a,j as s,X as r,aA as t,aB as l,aC as n,aD as o,aE as i,o as c,aF as d,a0 as u,aG as m,aH as x}from"./vendor-B4EbuGE7.js";import{t as h,S as p}from"./index-BZMvkTKc.js";const g=3e3,b=[{name:"Lofi Hip Hop",url:"https://stream.zeno.fm/f3wvbbqmdg8uv",color:"from-amber-400/20 to-orange-400/20"},{name:"Chillhop Radio",url:"https://stream.zeno.fm/0r0xa792kwzuv",color:"from-blue-400/20 to-cyan-400/20"},{name:"Jazzy Beats",url:"https://stream.zeno.fm/f6vhq8qqtg8uv",color:"from-purple-400/20 to-pink-400/20"}],f="focuszone_tasks";function v(){const v=e(),[j,y]=a.useState("focus"),[N,w]=a.useState(g),[k,C]=a.useState(!1),[S,E]=a.useState(0),P=a.useRef(null),B=a.useRef(null),[T,$]=a.useState(0),[z,D]=a.useState(!1),[R,I]=a.useState(50),F=a.useRef(null),[A,L]=a.useState(()=>{try{const e=localStorage.getItem(f);if(e){const a=JSON.parse(e);if(Array.isArray(a))return a}}catch{}return[]}),[M,q]=a.useState(""),[H,Z]=a.useState(null),[_,J]=a.useState(""),[G,K]=a.useState(null),O=a.useRef(null),W=a.useRef(null);a.useEffect(()=>(W.current&&clearTimeout(W.current),W.current=setTimeout(()=>{try{localStorage.setItem(f,JSON.stringify(A))}catch{}},500),()=>{W.current&&clearTimeout(W.current)}),[A]);const U=e=>{switch(e){case"focus":return g;case"shortBreak":return 300;case"longBreak":return 900}},V=a.useCallback(()=>{if(C(!1),B.current&&(B.current.currentTime=0,B.current.play()),"focus"===j){const e=S+1;E(e),e%4==0?(y("longBreak"),w(900)):(y("shortBreak"),w(300))}else y("focus"),w(g)},[j,S]);a.useEffect(()=>(k?P.current=setInterval(()=>{w(e=>e>1?e-1:(V(),0))},1e3):P.current&&(clearInterval(P.current),P.current=null),()=>{P.current&&(clearInterval(P.current),P.current=null)}),[k,V]);const Q=e=>{y(e),w(U(e)),C(!1)},X=a.useCallback(async()=>{if(F.current)try{z?F.current.pause():await F.current.play(),D(e=>!e)}catch(e){h({title:"Erro ao reproduzir",description:"NÃ£o foi possÃ­vel iniciar a mÃºsica. Verifique sua conexÃ£o.",variant:"destructive"})}},[z]),Y=a.useCallback(()=>{I(R>0?0:50)},[R]);a.useEffect(()=>{F.current&&(F.current.volume=R/100)},[R]),a.useEffect(()=>{const e=F.current,a=B.current,s=P.current;return()=>{e&&(e.pause(),e.currentTime=0),a&&(a.pause(),a.currentTime=0),s&&clearInterval(s)}},[]);const ee=()=>{var e;const a=M.trim();if(!a)return;const s={id:`task_${Date.now()}_${Math.random().toString(36).slice(2,9)}`,text:a,completed:!1,createdAt:Date.now()};L(e=>[s,...e]),q(""),null==(e=O.current)||e.focus()},ae=()=>{if(!H)return;const e=_.trim();e?(L(a=>a.map(a=>a.id===H?{...a,text:e}:a)),se()):se()},se=()=>{Z(null),J("")},re=A.filter(e=>e.completed).length,te=A.length,le=te>0?Math.round(re/te*100):0;a.useEffect(()=>{const e=e=>{var a,s,r;H||"INPUT"===(null==(a=document.activeElement)?void 0:a.tagName)?"Escape"===e.key&&(se(),null==(s=document.activeElement)||s.blur()):("Escape"===e.key&&v(-1)," "===e.key&&(e.preventDefault(),C(e=>!e)),"m"===e.key.toLowerCase()&&Y(),"p"===e.key.toLowerCase()&&X(),"n"===e.key.toLowerCase()&&(e.preventDefault(),null==(r=O.current)||r.focus()))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[R,z,H,v,Y,X]);const ne=Math.floor(N/60).toString().padStart(2,"0"),oe=(N%60).toString().padStart(2,"0"),ie=U(j),ce=(ie-N)/ie*100,de=2*Math.PI*90,ue=de-ce/100*de,me={focus:{bg:"#6366f1",light:"#e0e7ff"},shortBreak:{bg:"#10b981",light:"#d1fae5"},longBreak:{bg:"#8b5cf6",light:"#ede9fe"}};return s.jsxs(s.Fragment,{children:[s.jsx(p,{title:"Focus Zone - Pomodoro",description:"Timer Pomodoro com musica lo-fi para estudos focados. Gerencie tarefas e mantenha o foco durante suas sessoes de estudo.",canonical:"https://andressamendes.github.io/medprompts/focus-zone",breadcrumbs:[{name:"Home",url:"https://andressamendes.github.io/medprompts/"},{name:"Focus Zone",url:"https://andressamendes.github.io/medprompts/focus-zone"}]}),s.jsxs("main",{id:"main-content",className:"relative min-h-screen overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-blue-950 to-slate-900"}),s.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"\n            linear-gradient(rgba(99, 102, 241, 0.3) 1px, transparent 1px),\n            linear-gradient(90deg, rgba(99, 102, 241, 0.3) 1px, transparent 1px)\n          ",backgroundSize:"50px 50px"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-transparent to-black/60"}),s.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col",children:[s.jsxs("header",{className:"w-full p-3 sm:p-6 flex justify-between items-center",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-xl sm:text-3xl font-bold text-white drop-shadow-lg",children:"Focus Zone"})}),s.jsxs("button",{onClick:()=>v(-1),className:"flex items-center gap-2 px-3 py-2 sm:px-4 sm:py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all border border-white/20 hover:scale-105","aria-label":"Sair do Focus Zone",children:[s.jsx(r,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{className:"text-sm sm:text-base hidden sm:inline",children:"Sair"})]})]}),s.jsx("section",{className:"flex-1 flex items-start justify-center px-3 sm:px-6 pb-6 pt-2","aria-label":"Timer Pomodoro e lista de tarefas",children:s.jsx("div",{className:"w-full max-w-6xl",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-6",children:[s.jsx("div",{className:"w-full lg:w-[60%]",children:s.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl p-5 sm:p-8 space-y-5 border border-white/20",children:[s.jsxs("div",{className:"flex gap-2 justify-center flex-wrap",role:"group","aria-label":"Selecionar modo do timer",children:[s.jsx("button",{onClick:()=>Q("focus"),"aria-pressed":"focus"===j,className:"px-3 sm:px-4 py-2 rounded-xl font-semibold text-sm transition-all "+("focus"===j?"bg-blue-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Foco"}),s.jsx("button",{onClick:()=>Q("shortBreak"),"aria-pressed":"shortBreak"===j,className:"px-3 sm:px-4 py-2 rounded-xl font-semibold text-sm transition-all "+("shortBreak"===j?"bg-green-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Pausa 5min"}),s.jsx("button",{onClick:()=>Q("longBreak"),"aria-pressed":"longBreak"===j,className:"px-3 sm:px-4 py-2 rounded-xl font-semibold text-sm transition-all "+("longBreak"===j?"bg-green-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Pausa 15min"})]}),s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-gray-600 font-medium text-sm",children:{focus:"Foco Profundo",shortBreak:"Pausa Curta",longBreak:"Pausa Longa"}[j]})}),s.jsx("div",{className:"flex flex-col items-center",children:s.jsxs("div",{className:"relative",children:[s.jsxs("svg",{width:200,height:200,viewBox:"0 0 200 200",className:"transform -rotate-90",role:"img","aria-hidden":"true",children:[s.jsx("circle",{cx:100,cy:100,r:90,stroke:me[j].light,strokeWidth:8,fill:"transparent"}),s.jsx("circle",{cx:100,cy:100,r:90,stroke:me[j].bg,strokeWidth:8,fill:"transparent",strokeDasharray:de,strokeDashoffset:ue,strokeLinecap:"round",className:"transition-all duration-1000 ease-in-out"})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("p",{role:"timer","aria-live":"polite","aria-atomic":"true",className:"text-5xl sm:text-6xl font-bold tabular-nums",style:{color:me[j].bg},children:[s.jsx("span",{className:"sr-only",children:`${ne} minutos e ${oe} segundos restantes`}),s.jsxs("span",{"aria-hidden":"true",children:[ne,":",oe]})]})})]})}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Ciclos completados: ",s.jsx("span",{className:"font-bold text-blue-600",children:S})]}),s.jsx("div",{className:"flex justify-center gap-1 mt-2",role:"img","aria-label":`Progresso: ${S%4} de 4 ciclos para pausa longa`,children:[...Array(4)].map((e,a)=>s.jsx("div",{"aria-hidden":"true",className:"w-2 h-2 rounded-full transition-all "+(a<S%4?"bg-blue-600 scale-125":"bg-gray-300")},a))})]}),s.jsxs("div",{className:"flex gap-2 sm:gap-3 justify-center",children:[s.jsx("button",{className:(k?"bg-blue-600 hover:bg-blue-700":"bg-green-600 hover:bg-green-700")+" text-white font-semibold rounded-xl px-6 py-3 sm:px-8 sm:py-3 transition-all shadow-lg hover:scale-105 flex-1 max-w-[160px]",onClick:()=>C(!k),children:k?"Pausar":"Iniciar"}),s.jsx("button",{className:"bg-gray-100 hover:bg-gray-200 text-blue-700 font-semibold rounded-xl px-5 py-3 sm:px-6 sm:py-3 transition-all shadow-lg hover:scale-105",onClick:()=>{C(!1),w(U(j)),B.current&&(B.current.pause(),B.current.currentTime=0)},"aria-label":`Resetar timer para ${"focus"===j?"50":"shortBreak"===j?"5":"15"} minutos`,children:"Reset"})]}),s.jsxs("div",{className:`bg-gradient-to-br ${b[T].color} rounded-2xl shadow-inner p-4 sm:p-5 border border-blue-200/30 backdrop-blur-sm`,children:[s.jsxs("div",{className:"flex flex-col gap-3 items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full "+(z?"bg-red-500 animate-pulse":"bg-gray-400"),"aria-hidden":"true"}),s.jsx("span",{className:"sr-only",children:z?"Reproduzindo:":"Pausado:"}),s.jsx("span",{className:"font-semibold text-blue-900 text-sm sm:text-base",children:b[T].name})]}),s.jsxs("div",{className:"flex gap-2 sm:gap-3 w-full items-center",children:[s.jsxs("button",{onClick:X,className:"flex-1 px-4 py-2.5 sm:px-6 sm:py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg transition-all hover:scale-105 flex items-center justify-center gap-2","aria-label":z?"Pausar RÃ¡dio":"Tocar RÃ¡dio",children:[z?s.jsx(t,{className:"w-4 h-4"}):s.jsx(l,{className:"w-4 h-4"}),s.jsx("span",{children:z?"Pausar":"Play"})]}),s.jsx("button",{onClick:()=>{$(e=>(e+1)%b.length),D(!1),F.current&&(F.current.pause(),F.current.currentTime=0)},className:"px-4 py-2.5 sm:px-5 sm:py-3 bg-white hover:bg-gray-50 text-blue-700 font-semibold border-2 border-blue-300 rounded-xl shadow-lg transition-all hover:scale-105","aria-label":"PrÃ³xima EstaÃ§Ã£o",children:"Trocar"})]}),s.jsxs("div",{className:"flex items-center gap-3 w-full",children:[s.jsx("button",{onClick:Y,className:"p-2 hover:bg-white/20 rounded-lg transition-all","aria-label":0===R?"Ativar som":"Desativar som",children:0===R?s.jsx(n,{className:"w-5 h-5 text-blue-900"}):s.jsx(o,{className:"w-5 h-5 text-blue-900"})}),s.jsx("input",{type:"range",min:"0",max:"100",value:R,onChange:e=>I(Number(e.target.value)),className:"flex-1 h-2 bg-indigo-200 rounded-lg appearance-none cursor-pointer accent-indigo-600","aria-label":"Controle de volume"}),s.jsxs("span",{className:"text-blue-900 font-semibold text-sm min-w-[3ch]",children:[R,"%"]})]})]}),s.jsx("audio",{ref:F,src:b[T].url,"aria-label":`Stream ${b[T].name}`,className:"sr-only",preload:"none",onEnded:()=>D(!1)})]}),s.jsx("div",{className:"text-center pt-2 border-t border-gray-200",children:s.jsx("p",{className:"text-xs text-gray-500",children:"EspaÃ§o: Timer â€¢ P: MÃºsica â€¢ M: Mute â€¢ N: Nova tarefa â€¢ ESC: Sair"})}),s.jsx("audio",{ref:B,src:"https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg",preload:"auto",className:"sr-only"})]})}),s.jsx("div",{className:"w-full lg:w-[40%]",children:s.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl p-5 sm:p-6 border border-white/20 h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(i,{className:"w-5 h-5 text-indigo-600","aria-hidden":"true"}),s.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Tarefas"})]}),te>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-600","aria-label":`${re} de ${te} tarefas concluÃ­das`,children:[s.jsx("span",{className:"text-green-600","aria-hidden":"true",children:re}),s.jsx("span",{className:"text-gray-400","aria-hidden":"true",children:"/"}),s.jsx("span",{"aria-hidden":"true",children:te})]}),re===te&&te>0&&s.jsx(c,{className:"w-5 h-5 text-yellow-500 animate-bounce","aria-hidden":"true"})]})]}),te>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all duration-500 ease-out",style:{width:`${le}%`}})}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[le,"% concluÃ­do"]})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("input",{ref:O,type:"text",value:M,onChange:e=>q(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ee())},placeholder:"Nova tarefa...",className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm"}),s.jsx("button",{onClick:ee,disabled:!M.trim(),className:"px-4 py-2.5 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-xl transition-all hover:scale-105 disabled:hover:scale-100","aria-label":"Adicionar tarefa",children:s.jsx(d,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 min-h-[200px] max-h-[400px] lg:max-h-none",children:0===A.length?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-8 text-gray-400",children:[s.jsx(i,{className:"w-12 h-12 mb-3 opacity-50","aria-hidden":"true"}),s.jsx("p",{className:"text-sm",children:"Nenhuma tarefa ainda"}),s.jsx("p",{className:"text-xs mt-1",children:"Pressione N para adicionar"})]}):A.map(e=>s.jsxs("div",{className:`\n                            group flex items-center gap-3 p-3 rounded-xl border transition-all duration-300\n                            ${e.completed?"bg-green-50 border-green-200":"bg-white border-gray-200 hover:border-indigo-300 hover:shadow-sm"}\n                            ${G===e.id?"animate-pulse scale-[1.02]":""}\n                          `,children:[s.jsx("button",{onClick:()=>{return a=e.id,void L(e=>e.map(e=>{if(e.id===a){const s=!e.completed;return s&&(K(a),setTimeout(()=>K(null),600)),{...e,completed:s,completedAt:s?Date.now():void 0}}return e}));var a},className:`\n                              flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all\n                              ${e.completed?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-indigo-500"}\n                            `,"aria-label":e.completed?"Desmarcar tarefa":"Marcar como concluÃ­da",children:e.completed&&s.jsx(u,{className:"w-4 h-4"})}),H===e.id?s.jsx("input",{type:"text",value:_,onChange:e=>J(e.target.value),onKeyDown:e=>{"Enter"===e.key&&ae(),"Escape"===e.key&&se()},onBlur:ae,autoFocus:!0,className:"flex-1 px-2 py-1 border border-indigo-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"}):s.jsx("span",{className:`\n                                flex-1 text-sm transition-all\n                                ${e.completed?"text-gray-500 line-through":"text-gray-800"}\n                              `,children:e.text}),!H&&s.jsxs("div",{className:"flex items-center gap-1 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>(e=>{Z(e.id),J(e.text)})(e),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Editar tarefa",children:s.jsx(m,{className:"w-4 h-4 text-gray-500"})}),s.jsx("button",{onClick:()=>{return a=e.id,void L(e=>e.filter(e=>e.id!==a));var a},className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors","aria-label":"Excluir tarefa",children:s.jsx(x,{className:"w-4 h-4 text-red-500"})})]})]},e.id))}),A.length>0&&s.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Clique no cÃ­rculo para concluir â€¢ Duplo clique para editar"})})]})})]})})})]}),re===te&&te>0&&re>0&&s.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50",role:"status","aria-live":"polite",children:[s.jsx("span",{className:"sr-only",children:"ParabÃ©ns! Todas as tarefas foram concluÃ­das!"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:s.jsx("div",{className:"text-6xl animate-bounce","aria-hidden":"true",children:"ðŸŽ‰"})})]})]})]})}export{v as default};
